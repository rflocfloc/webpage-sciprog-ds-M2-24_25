

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 2, Practical 4 &mdash; sciprog-ds-M2-24_25  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Module 2, Practical 5" href="M2_practical5.html" />
    <link rel="prev" title="Module 2, Practical 3" href="M2_practical3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            sciprog-ds-M2-24_25
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">     Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical1.html">     Practical 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical2.html">     Practical 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical3.html">     Practical 3</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Practical 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Regular-expressions">Regular expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Basic-Patterns">Basic Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Group-extraction">Group extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Exercises">Exercises</a></li>
<li class="toctree-l3"><a class="reference internal" href="#re.compile">re.compile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Substitution">Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical5.html">     Practical 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical6.html">     Practical 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical7.html">     Practical 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical8.html">     Practical 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical9.html">     Practical 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical10.html">     Practical 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="MidTerm_simulation_DS.html">     MidTerm Simulation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sciprog-ds-M2-24_25</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Module 2, Practical 4</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/M2_practical4.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Module-2,-Practical-4">
<h1>Module 2, Practical 4<a class="headerlink" href="#Module-2,-Practical-4" title="Link to this heading"></a></h1>
<p>In this practical we will learn how to deal with regular expressions.</p>
<section id="Regular-expressions">
<h2>Regular expressions<a class="headerlink" href="#Regular-expressions" title="Link to this heading"></a></h2>
<p>Regular expressions, or <em>regex</em> are a powerful language for text pattern matching. They are extremely useful in searching for complex patterns of characters to filter, replace and validate user inputs. Regex are employed in search engines, word processors find and replace functions, and text processing utilities such as <code class="docutils literal notranslate"><span class="pre">awk</span></code> or <code class="docutils literal notranslate"><span class="pre">grep</span></code>.</p>
<p><em>e.g. How do I check that a strings contains only alphabetic characters?
How do I check that an email is properly formatted (i.e. user&#64;domain.com)?
How do I find all strings containing years from 2010 to 2017?</em></p>
<p>Pyhton provides a module, <code class="docutils literal notranslate"><span class="pre">re</span></code>, to write and match regular expressions. But how do I write a regex?</p>
<section id="Basic-Patterns">
<h3>Basic Patterns<a class="headerlink" href="#Basic-Patterns" title="Link to this heading"></a></h3>
<p><em>(from</em><a class="reference external" href="https://developers.google.com/edu/python/regular-expressions">https://developers.google.com/edu/python/regular-expressions</a><em>)</em></p>
<p>The power of regular expressions is that they can specify patterns, not just fixed characters. Here are the most basic patterns which match single chars:</p>
<p><code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">X,</span> <span class="pre">9,</span> <span class="pre">&lt;</span></code> – ordinary characters just match themselves exactly. The meta-characters which do not match themselves because they have special meanings are: <em>. ^ $</em> + ? { [ ]  | ( )*</p>
<p><code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">(a</span> <span class="pre">period)</span></code> – matches any single character except newline ‘<span class="math">\n</span>’</p>
<p><code class="docutils literal notranslate"><span class="pre">+</span></code> means at least one instance of the preceding character</p>
<p><code class="docutils literal notranslate"><span class="pre">*</span></code> means zero or more instances of the preceding character</p>
<p><code class="docutils literal notranslate"><span class="pre">\w</span></code> – (lowercase w) matches a “word” character: a letter or digit or underbar [[<a href="#id2"><span class="problematic" id="id3">a-zA-Z0-9_</span></a>]]. Note that although “word” is the mnemonic for this, it only matches a single word char, not a whole word.</p>
<p><code class="docutils literal notranslate"><span class="pre">\W</span></code> (upper case W) matches any non-word character.</p>
<p><code class="docutils literal notranslate"><span class="pre">\b</span></code> – boundary between word and non-word</p>
<p><code class="docutils literal notranslate"><span class="pre">\s</span></code> – (lowercase s) matches a single whitespace character – space, newline, return, tab, form [[<span class="math">\n</span><span class="math">\r\t\f]</span>].</p>
<p><code class="docutils literal notranslate"><span class="pre">\S</span></code> (upper case S) matches any non-whitespace character.</p>
<p><code class="docutils literal notranslate"><span class="pre">\t,</span> <span class="pre">\n,</span> <span class="pre">\r</span></code> – tab, newline, return</p>
<p><code class="docutils literal notranslate"><span class="pre">\d</span></code> – decimal digit [[0-9]] (some older regex utilities do not support but <span class="math">\d,</span> but they all support <span class="math">\w `and :nbsphinx-math:</span>s`)</p>
<p><code class="docutils literal notranslate"><span class="pre">^</span></code> = start, <code class="docutils literal notranslate"><span class="pre">$</span></code> = end – match the start or end of the string</p>
<p><code class="docutils literal notranslate"><span class="pre">\</span></code> – inhibit the “specialness” of a character. So, for example, use . to match a period or \ to match a slash. If you are unsure if a character has special meaning, such as ‘&#64;’, you can put a slash in front of it, &#64;, to make sure it is treated just as a character.</p>
<p><code class="docutils literal notranslate"><span class="pre">{m,n}</span></code> – causes the resulting regex to match from m to n repetitions of the preceding RE, attempting to match as many repetitions as possible.</p>
<p><code class="docutils literal notranslate"><span class="pre">[]</span></code> – used to indicate a set of characters. e.g. integers from 0 to 9 = [[0-9]]</p>
<p>Let’s see an example. Write a regex that matches <em>all a’s followed by zero or more b’s</em> :</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ab*&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;abbc&quot;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;cdfegh&quot;</span><span class="p">))</span> <span class="c1"># this will answer None...</span>

<span class="c1"># another way of searching...</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;abbc&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;re.Match object; span=(0, 1), match=&#39;a&#39;&gt;
&lt;re.Match object; span=(0, 2), match=&#39;ab&#39;&gt;
&lt;re.Match object; span=(0, 3), match=&#39;abb&#39;&gt;
None
0
3
</pre></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">match</span></code> objects always have a boolean value of <code class="docutils literal notranslate"><span class="pre">True</span></code>. If no match is found, <code class="docutils literal notranslate"><span class="pre">search</span></code> returns <code class="docutils literal notranslate"><span class="pre">None</span></code>, allowing you to test for the presence of matches like this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ab*&quot;</span>

<span class="k">def</span> <span class="nf">doMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">searchString</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">searchString</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Match found!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No match of pattern&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="n">searchString</span><span class="p">)</span>

<span class="n">doMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;defabbbc&quot;</span><span class="p">)</span> <span class="c1"># this will print &quot;Match found!&quot;</span>
<span class="n">doMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;defkklic&quot;</span><span class="p">)</span> <span class="c1"># this will print &quot;No match of pattern ab* in defkklic&quot;</span>
</pre></div>
</div>
</div>
<p>Can we then extract information for all matches ?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># what happens here ?</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ab*&quot;</span>

<span class="n">myMatches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;defabbckipabpoaoccdabbbb&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myMatches</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">myMatches</span><span class="o">.</span><span class="n">group</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;re.Match object; span=(3, 6), match=&#39;abb&#39;&gt;
a
b
b
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use findall instead of search</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ab*&quot;</span>

<span class="n">myMatches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;defabbckipabpoaoccdabbbb&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myMatches</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">myMatches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;abb&#39;, &#39;ab&#39;, &#39;a&#39;, &#39;abbbb&#39;]
abb
ab
a
abbbb
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># or even better, use finditer</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ab*&quot;</span>

<span class="n">myMatches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;defabbckipabpoaoccdabbbb&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">myMatches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Match &lt;</span><span class="si">{}</span><span class="s2">&gt; at positions: </span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()))</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Match &lt;abb&gt; at positions: 3-6
Match &lt;ab&gt; at positions: 10-12
Match &lt;a&gt; at positions: 14-15
Match &lt;abbbb&gt; at positions: 19-24
</pre></div></div>
</div>
</section>
<section id="Group-extraction">
<h3>Group extraction<a class="headerlink" href="#Group-extraction" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">The <code class="docutils literal notranslate"><span class="pre">group</span></code> feature allows you to extract the different parts of a matched substring.</div>
<div class="line">Suppose we want to decompose an email address into username and domain. We can create a group by adding <code class="docutils literal notranslate"><span class="pre">(</span></code> and <code class="docutils literal notranslate"><span class="pre">)</span></code> parenthesis around the parts of the regex matching the username and domain, and then extract groups from the matches.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;([\w.-]+)@([\w.-]+)&quot;</span> <span class="c1"># patter marching (everything in lowercase)@(everything in lowercase)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;john.doe@nih.gov&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
john.doe@nih.gov
john.doe
nih.gov
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="c1"># groups can also be named for ease of extraction</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;(?P&lt;username&gt;[\w.-]+)@(?P&lt;domain&gt;[\w.-]+)&quot;</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s2">&quot;john.doe@nih.gov&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;domain&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
john.doe@nih.gov
john.doe
nih.gov
</pre></div></div>
</div>
</section>
<section id="Exercises">
<h3>Exercises<a class="headerlink" href="#Exercises" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Write a regex to check that a string is alphanumeric, i.e. it contains only a the <code class="docutils literal notranslate"><span class="pre">a-z</span></code>, <code class="docutils literal notranslate"><span class="pre">A-Z</span></code> and <code class="docutils literal notranslate"><span class="pre">0-9</span></code> set of characters.</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">isStringAlphanumeric</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">isMatch</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;[^a-zA-Z\s0-9.]&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="n">isMatch</span>

<span class="nb">print</span><span class="p">(</span><span class="n">isStringAlphanumeric</span><span class="p">(</span><span class="s2">&quot;The lazy dog jumped over the quick brown fox.&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">isStringAlphanumeric</span><span class="p">(</span><span class="s2">&quot;*&amp;%@#!}{&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
False
</pre></div></div>
</div>
</details><ol class="arabic simple" start="2">
<li><p>Write a regex that matches a word containing the letter <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">matchZ</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;\w*z\w*&#39;</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span>  <span class="n">text</span><span class="p">):</span>
                <span class="k">return</span> <span class="s1">&#39;Found a match!&#39;</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;No match found!&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">matchZ</span><span class="p">(</span><span class="s2">&quot;The quick brown fox jumps over the lazy dog.&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">matchZ</span><span class="p">(</span><span class="s2">&quot;Python Exercises.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Found a match!
No match found!
</pre></div></div>
</div>
</details></section>
<section id="re.compile">
<h3>re.compile<a class="headerlink" href="#re.compile" title="Link to this heading"></a></h3>
<p>Searching can also be performed by <em>compiling</em> the regex with <code class="docutils literal notranslate"><span class="pre">re.compile(pattern)</span></code>, and using the returned object of the <code class="docutils literal notranslate"><span class="pre">re.Pattern</span></code> type to call <code class="docutils literal notranslate"><span class="pre">search</span></code> without having to specify the pattern every time search is called</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">myRegex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;do.+&#39;</span><span class="p">)</span>
<span class="n">myRegex</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;this animal is a donkey&quot;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;re.Match object; span=(17, 23), match=&#39;donkey&#39;&gt;
</pre></div></div>
</div>
</section>
<section id="Substitution">
<h3>Substitution<a class="headerlink" href="#Substitution" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">re.sub</span></code> function allows you to search for matches to a given regex and replace them by something else in your input string. The replacement string can include ‘1’, ‘2’, …, ‘<span class="math">\X</span>’ which refer to the text from group(1), group(2), …, group(X) from the original matching text.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;([\w\.-]+)@([\w\.-]+)&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\1@unitn.it&quot;</span><span class="p">,</span> <span class="s2">&quot;john.doe@nih.gov&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;luke.skywalker@\2&quot;</span><span class="p">,</span> <span class="s2">&quot;john.doe@nih.gov&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
john.doe@unitn.it
luke.skywalker@nih.gov
</pre></div></div>
</div>
</section>
<section id="Exercise">
<h3>Exercise<a class="headerlink" href="#Exercise" title="Link to this heading"></a></h3>
<p>Write a regex to remove all whitespaces from the input string.</p>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The quick  brown fox jumps   over the lazy dog.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original string:&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Without spaces:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Original string: The quick  brown fox jumps   over the lazy dog.
Without spaces: Thequickbrownfoxjumpsoverthelazydog.
</pre></div></div>
</div>
</details></section>
</section>
<section id="id1">
<h2>Exercises<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Write a regex to convert a date of yyyy-mm-dd format to dd-mm-yyyy format.</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">changeDateFormat</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d</span><span class="si">{4}</span><span class="s1">)-(\d{1,2})-(\d{1,2})&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">3-</span><span class="se">\\</span><span class="s1">2-</span><span class="se">\\</span><span class="s1">1&#39;</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>

<span class="n">myDate</span> <span class="o">=</span> <span class="s2">&quot;2020-11-16&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Date in the YYY-MM-DD format: &quot;</span><span class="p">,</span> <span class="n">myDate</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Date in the DD-MM-YYYY format: &quot;</span><span class="p">,</span> <span class="n">changeDateFormat</span><span class="p">(</span><span class="n">myDate</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details><ol class="arabic simple" start="2">
<li><p>Use a regex to find all words starting with ‘a’ or ‘e’ in a given string.</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;The following example creates an ArrayList with a capacity of 50 elements.</span>
<span class="s2">Four elements are then added to the ArrayList and the ArrayList is trimmed accordingly.&quot;&quot;&quot;</span>

<span class="nb">list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\b[ae]\w*&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details><ol class="arabic simple" start="3">
<li><p>Write a regex to insert spaces between words starting with capital letters (e.g. “CamelCase” should become “Camel Case”)</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">test</span> <span class="o">=</span> <span class="s1">&#39;CamelCaseTestPhrase&#39;</span>
<span class="n">splittedTmp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;([A-Z]+)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39; \1&#39;</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="n">splittedFinal</span> <span class="o">=</span> <span class="n">splittedTmp</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c1"># to remove first space...</span>

<span class="nb">print</span><span class="p">(</span><span class="n">splittedFinal</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="M2_practical3.html" class="btn btn-neutral float-left" title="Module 2, Practical 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="M2_practical5.html" class="btn btn-neutral float-right" title="Module 2, Practical 5" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Riccardo Scandino.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>