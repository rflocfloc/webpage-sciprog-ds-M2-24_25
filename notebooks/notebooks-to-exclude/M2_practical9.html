

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 2, Practical 9 &mdash; sciprog-ds-M2-24_25  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            sciprog-ds-M2-24_25
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">     Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../M2_practical1.html">     Module 2, Practical 1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sciprog-ds-M2-24_25</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Module 2, Practical 9</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/notebooks-to-exclude/M2_practical9.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Module-2,-Practical-9">
<h1>Module 2, Practical 9<a class="headerlink" href="#Module-2,-Practical-9" title="Link to this heading"></a></h1>
<p>In this practical we will keep working with graphs.</p>
<section id="Graphs-recap">
<h2>Graphs recap<a class="headerlink" href="#Graphs-recap" title="Link to this heading"></a></h2>
<p>Graphs are mathematical structures made of two key elements: <strong>nodes</strong> (or <strong>vertices</strong>) and <strong>edges</strong>. Nodes are things that we want to represent and edges are relationships among the objects. Mathematically, a graph is an entity <span class="math notranslate nohighlight">\(G = (N,E)\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is a set of nodes and <span class="math notranslate nohighlight">\(E = N \times N\)</span> is the set of edges.</p>
<p>Nodes are normally represented as circles, while edges (relationships) are represented by lines/arrows connecting nodes. An example follows:</p>
<img alt="notebooks/notebooks-to-exclude/images/graph_1.png" src="notebooks/notebooks-to-exclude/images/graph_1.png" />
<p>Relations represented by edges can be transitive (e.g. sibling_of: if <span class="math notranslate nohighlight">\(X\)</span> is sibling of <span class="math notranslate nohighlight">\(Y\)</span> then <span class="math notranslate nohighlight">\(Y\)</span> is sibling of <span class="math notranslate nohighlight">\(X\)</span>) and in this case the edges are just lines rather than arrows. In this case the graph is <strong>directed</strong>. In case relationships are not transitive (i.e. <span class="math notranslate nohighlight">\(X \rightarrow Y\)</span> does not imply <span class="math notranslate nohighlight">\(Y \rightarrow X\)</span>) we put an arrow to indicate the direction of the relationship among the nodes and in this case we say the graph is <strong>undirected</strong>.</p>
<p>Some terminology (from the lecture):</p>
<img alt="notebooks/notebooks-to-exclude/images/graphTerms.png" src="notebooks/notebooks-to-exclude/images/graphTerms.png" />
<p>The <strong>degree</strong> of a node is the number of connection it has with other nodes. In directed graphs the <strong>in-degree</strong> is the number of <strong>incoming</strong> edges, while the <strong>out-degree</strong> is the number of <strong>outgoing</strong> edges.</p>
<img alt="notebooks/notebooks-to-exclude/images/degree.png" src="notebooks/notebooks-to-exclude/images/degree.png" />
<p>A <strong>path</strong> in the graph is a sequence of nodes connected by edges.</p>
<img alt="notebooks/notebooks-to-exclude/images/path.png" src="notebooks/notebooks-to-exclude/images/path.png" />
<p>Up to now, we have seen two different strategies for implementing graphs: <strong>adjacency matrices</strong> and <strong>linked lists</strong>. In the remainder, we will work with the <strong>DiGraphLL</strong> and <strong>DiGraphLLAnalyzer</strong> class implemented in the previous practical.</p>
</section>
<section id="Visits">
<h2>Visits<a class="headerlink" href="#Visits" title="Link to this heading"></a></h2>
<p>Visiting graphs means traversing through its edges and nodes following the connections that make up the graph. Graphs can have cycles and this makes it quite tricky to visit the graph. Differently from what seen in the case of trees, <strong>we need to keep a data structure of visited nodes</strong> to avoid getting stuck in loops like the following (or you can pretty much end up in an infinite while loop):</p>
<img alt="notebooks/notebooks-to-exclude/images/circle.png" src="notebooks/notebooks-to-exclude/images/circle.png" />
<p>Traversing a graph <span class="math notranslate nohighlight">\(G = (V,E)\)</span> in mathematical terms can be described as, given a node <span class="math notranslate nohighlight">\(r\)</span>, visit all the nodes reachable from <span class="math notranslate nohighlight">\(r\)</span> going through the nodes exactly once.</p>
<p>As in the case of Trees, two ways exist to perform a visit of a graph: <strong>depth-first</strong> and <strong>breadth-first</strong> search.</p>
<p>As said above, the base class that we will extend is <code class="docutils literal notranslate"><span class="pre">DiGraphLL</span></code>, whose code is reported below as a reminder:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with second node as key and the weight as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1">#print(&quot;Node {} added&quot;.format(node))</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">test1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#if both nodes exist othewise don&#39;t do anything</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">exStr</span> <span class="o">=</span> <span class="s2">&quot;Edge </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2"> already existing.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exStr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#print(&quot;Inserted {}--&gt;{} ({})&quot;.format(node1,node2,weight))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">][</span><span class="n">node2</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># need to loop through all the nodes!!!</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> -- </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">edge</span><span class="p">]),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="n">edge</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns a list of nodes connected to node&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                    <span class="c1">#all outgoing edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#all incoming edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacentEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If incoming == False</span>
<span class="sd">        we look at the edges of the node</span>
<span class="sd">        else we need to loop through all the nodes.</span>
<span class="sd">        An edge is present if there is a</span>
<span class="sd">        corresponding entry in the dictionary.</span>
<span class="sd">        If no such nodes exist returns None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">incoming</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">edges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">edges</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="n">edge</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">edge</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="n">node</span><span class="p">,</span> <span class="n">edge</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns all the edges in a list of triplets&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">edge</span><span class="p">]</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span><span class="n">edge</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edgeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if edge node1 --&gt; node2 is present&quot;&quot;&quot;</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n2</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLL2.py">DiGraphLL2.py</a></p>
<section id="Depth-First-Search-(DFS)">
<h3>Depth First Search (DFS)<a class="headerlink" href="#Depth-First-Search-(DFS)" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">Depth-first search visits nodes of the graph going as deep as possible along each path.</div>
<div class="line">This procedure is normally used to travel through <strong>all the nodes</strong> of the graph, and so it might have to be repeated several times (starting each time from a different node) as the output is, in general, a <strong>forest of DFS trees</strong>.</div>
</div>
<div class="line-block">
<div class="line">We have two possible versions of this algorithm: <strong>pre-order</strong> and <strong>post-order</strong> DFS.</div>
<div class="line">This algorithm makes use of a stack (rather <em>implicit</em>, as done below by using recursion) or <em>explicitly</em>.</div>
</div>
<p><strong>Example:</strong> Let’s implement DFS in the <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code> class we implemented in the previous lab.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>


<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with key second node and value the weight</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">getTopConnected_incoming</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">topN</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="c1">#accumulator to count connections</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">node</span><span class="p">]:</span>
                <span class="n">elInd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                <span class="n">conn</span><span class="p">[</span><span class="n">elInd</span><span class="p">]</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">M</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">conn</span><span class="p">))</span> <span class="k">if</span> <span class="n">conn</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">M</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ind</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getTopConnected_outgoing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the node(s)&quot;&quot;&quot;</span>
        <span class="n">topN</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">node</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">conn</span><span class="p">:</span>
                <span class="n">topN</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">conn</span> <span class="o">=</span> <span class="n">n</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">conn</span><span class="p">:</span>
                    <span class="n">topN</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">topN</span>

    <span class="k">def</span> <span class="nf">hasPathAux</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span> <span class="ow">or</span> <span class="n">node2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curN</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="c1">#do not travel on already visited nodes</span>
                <span class="k">if</span> <span class="n">curN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curN</span><span class="p">)</span>
                    <span class="c1">#get all outgoing nodes of Q</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">curN</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">node2</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">True</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">hasPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">):</span>
        <span class="c1">#checks both paths and returns True or false</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasPathAux</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">res</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasPathAux</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node1</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">DFSvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()):</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">preorder</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="c1">#remember that the self.adjacentEdge method returns:</span>
        <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
        <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outGoingEdges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
            <span class="c1">#print(nextNodes)</span>
            <span class="k">for</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nextN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">from </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">nextN</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">nextN</span><span class="p">,</span> <span class="n">preorder</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">preorder</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Preorder:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Postorder:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Preorder from Node_9&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Preorder:
Node_1
        from Node_1 --&gt; Node_2
Node_2
        from Node_2 --&gt; Node_3
Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
        from Node_2 --&gt; Node_5
Node_5
        from Node_5 --&gt; Node_8
Node_8
        from Node_8 --&gt; Node_7
Node_7

Postorder:
        from Node_1 --&gt; Node_2
        from Node_2 --&gt; Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
Node_3
        from Node_2 --&gt; Node_5
        from Node_5 --&gt; Node_8
        from Node_8 --&gt; Node_7
Node_7
Node_8
Node_5
Node_2
Node_1

Preorder from Node_9
Node_9
        from Node_9 --&gt; Node_2
Node_2
        from Node_2 --&gt; Node_1
Node_1
        from Node_1 --&gt; Node_3
Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
        from Node_1 --&gt; Node_5
Node_5
        from Node_5 --&gt; Node_8
Node_8
        from Node_8 --&gt; Node_7
Node_7
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzer2.py">DiGraphLLAnalyzer2.py</a></p>
<p><strong>If you look at the output of preorder visit from Node_1 you’ll notice that were are not visiting Node_9.</strong></p>
<p>To make sure we visit all nodes we need to modify the code in the following way:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>



<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ... same as above</span>

    <span class="k">def</span> <span class="nf">DFSvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()):</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">preorder</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="c1">#remember that the self.adjacentEdge method returns:</span>
        <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
        <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outGoingEdges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
            <span class="c1">#print(nextNodes)</span>
            <span class="k">for</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nextN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">from </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">nextN</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">nextN</span><span class="p">,</span> <span class="n">preorder</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">preorder</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">DFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="c1">#first visit from specified node then check all other nodes</span>
        <span class="c1">#set is mutable so the set is going to change!</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">preorder</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">preorder</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Preorder:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Postorder:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Postorder:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="n">preorder</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Preorder:
Starting from Node_1
Node_1
        from Node_1 --&gt; Node_2
Node_2
        from Node_2 --&gt; Node_3
Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
        from Node_2 --&gt; Node_5
Node_5
        from Node_5 --&gt; Node_8
Node_8
        from Node_8 --&gt; Node_7
Node_7
Starting from Node_9
Node_9

Postorder:
Starting from Node_1
        from Node_1 --&gt; Node_2
        from Node_2 --&gt; Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
Node_3
        from Node_2 --&gt; Node_5
        from Node_5 --&gt; Node_8
        from Node_8 --&gt; Node_7
Node_7
Node_8
Node_5
Node_2
Node_1
Starting from Node_9
Node_9

Postorder:
Starting from Node_5
        from Node_5 --&gt; Node_3
        from Node_3 --&gt; Node_4
Node_4
        from Node_3 --&gt; Node_6
Node_6
Node_3
        from Node_5 --&gt; Node_8
        from Node_8 --&gt; Node_7
Node_7
Node_8
Node_5
Starting from Node_1
        from Node_1 --&gt; Node_2
Node_2
Node_1
Starting from Node_9
Node_9
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzer3.py">DiGraphLLAnalyzer3.py</a></p>
<p>The graph created above (except for the weights of the edges) is:</p>
<img alt="notebooks/notebooks-to-exclude/images/testgraph.png" src="notebooks/notebooks-to-exclude/images/testgraph.png" />
</section>
<section id="Exercises">
<h3>Exercises<a class="headerlink" href="#Exercises" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Implement depth first search for the class <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code> using an <strong>explicit stack</strong> and a <strong>pre-order</strong> visit of the nodes (to keep things simple). Remember that you can simulate a stack (FILO – first in last out queue) by using a list with <code class="docutils literal notranslate"><span class="pre">append(elem)</span></code> and <code class="docutils literal notranslate"><span class="pre">pop(-1)</span></code> (or <code class="docutils literal notranslate"><span class="pre">collections.deque</span></code> and the methods <code class="docutils literal notranslate"><span class="pre">append(elem)</span></code> and <code class="docutils literal notranslate"><span class="pre">pop()</span></code>. Use the pseudocode below (I suggest to use a set rather than a boolean list for the visited structure):</p></li>
</ol>
<img alt="notebooks/notebooks-to-exclude/images/dfs_pseudocode.png" src="notebooks/notebooks-to-exclude/images/dfs_pseudocode.png" />
<p>You can test your methods with the following code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>G = DiGraphLLAnalyzer()
    G1 = DiGraphLLAnalyzer()
    for i in range(1,10):
        G.insertNode(&quot;Node_&quot; + str(i))
        G1.insertNode(&quot;Node_&quot; + str(i))

    G.insertEdge(&quot;Node_1&quot;, &quot;Node_2&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_1&quot;,1)
    G.insertEdge(&quot;Node_1&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_1&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_3&quot;, &quot;Node_4&quot;,1)
    G.insertEdge(&quot;Node_3&quot;, &quot;Node_6&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_4&quot;,1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_6&quot;,1)
    G.insertEdge(&quot;Node_7&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_8&quot;,1)
    G.insertEdge(&quot;Node_8&quot;, &quot;Node_7&quot;,1)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_2&quot;,1)
    #Graph G1
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_2&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_6&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_7&quot;, 1)
    G1.insertEdge(&quot;Node_2&quot; ,&quot;Node_7&quot;, 1)
    G1.insertEdge(&quot;Node_3&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_5&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_5&quot;, 1)
    G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_8&quot;, 1)
    G1.insertEdge(&quot;Node_7&quot; ,&quot;Node_9&quot;, 1)
    G1.insertEdge(&quot;Node_8&quot; ,&quot;Node_9&quot;, 1)

    G.DFS(&quot;Node_1&quot;)
    G.DFS(&quot;Node_5&quot;)

    G1.DFS(&quot;Node_1&quot;)
    G1.DFS(&quot;Node_4&quot;)
    G1.DFS(&quot;Node_6&quot;)
</pre></div>
</div>
<div class="tggle" onclick="toggleVisibility(&#39;Ex1&#39;);"><p>Show/Hide Solution</p>
</div><div id="Ex1" style="display:none;"><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>



<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">DFSvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()):</span>
        <span class="n">S</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span> <span class="c1"># the stack</span>
        <span class="n">S</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">order</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">curNode</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">curNode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="c1">#pre-order visit</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (visit order: </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span><span class="n">order</span><span class="p">))</span>
                <span class="n">order</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curNode</span><span class="p">)</span>
                <span class="c1">#remember that self.adjacentEdge returns:</span>
                <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
                <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outGoingEdges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
                    <span class="c1">#print(nextNodes)</span>
                    <span class="k">for</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">from </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span> <span class="n">nextN</span><span class="p">))</span>
                        <span class="n">S</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nextN</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">DFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="c1">#first visit from specified node then check all other nodes</span>
        <span class="c1">#set is mutable so the set is going to change!</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">DFSvisit</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="n">G1</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">G1</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#Graph G1</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;G from Node_1:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">G from Node_5:&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">G1:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;G1 from Node_1:&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G1 from Node_4:&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G1 from Node_6:&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">DFS</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
G from Node_1:
Starting from Node_1
Node_1 (visit order: 1)
        from Node_1 --&gt; Node_2
        from Node_1 --&gt; Node_3
        from Node_1 --&gt; Node_5
Node_5 (visit order: 2)
        from Node_5 --&gt; Node_3
        from Node_5 --&gt; Node_5
        from Node_5 --&gt; Node_8
Node_8 (visit order: 3)
        from Node_8 --&gt; Node_7
Node_7 (visit order: 4)
        from Node_7 --&gt; Node_5
Node_3 (visit order: 5)
        from Node_3 --&gt; Node_4
        from Node_3 --&gt; Node_6
Node_6 (visit order: 6)
        from Node_6 --&gt; Node_4
        from Node_6 --&gt; Node_6
Node_4 (visit order: 7)
Node_2 (visit order: 8)
        from Node_2 --&gt; Node_1
        from Node_2 --&gt; Node_3
        from Node_2 --&gt; Node_5
Starting from Node_9
Node_9 (visit order: 1)
        from Node_9 --&gt; Node_2


G from Node_5:
Starting from Node_5
Node_5 (visit order: 1)
        from Node_5 --&gt; Node_3
        from Node_5 --&gt; Node_5
        from Node_5 --&gt; Node_8
Node_8 (visit order: 2)
        from Node_8 --&gt; Node_7
Node_7 (visit order: 3)
        from Node_7 --&gt; Node_5
Node_3 (visit order: 4)
        from Node_3 --&gt; Node_4
        from Node_3 --&gt; Node_6
Node_6 (visit order: 5)
        from Node_6 --&gt; Node_4
        from Node_6 --&gt; Node_6
Node_4 (visit order: 6)
Starting from Node_1
Node_1 (visit order: 1)
        from Node_1 --&gt; Node_2
        from Node_1 --&gt; Node_3
        from Node_1 --&gt; Node_5
Node_2 (visit order: 2)
        from Node_2 --&gt; Node_1
        from Node_2 --&gt; Node_3
        from Node_2 --&gt; Node_5
Starting from Node_9
Node_9 (visit order: 1)
        from Node_9 --&gt; Node_2


G1:
G1 from Node_1:
Starting from Node_1
Node_1 (visit order: 1)
        from Node_1 --&gt; Node_2
        from Node_1 --&gt; Node_4
        from Node_1 --&gt; Node_6
        from Node_1 --&gt; Node_7
Node_7 (visit order: 2)
        from Node_7 --&gt; Node_9
Node_9 (visit order: 3)
Node_6 (visit order: 4)
        from Node_6 --&gt; Node_5
        from Node_6 --&gt; Node_8
Node_8 (visit order: 5)
        from Node_8 --&gt; Node_9
Node_5 (visit order: 6)
        from Node_5 --&gt; Node_4
Node_4 (visit order: 7)
Node_2 (visit order: 8)
        from Node_2 --&gt; Node_7
Starting from Node_3
Node_3 (visit order: 1)
        from Node_3 --&gt; Node_4

G1 from Node_4:
Starting from Node_4
Node_4 (visit order: 1)
Starting from Node_1
Node_1 (visit order: 1)
        from Node_1 --&gt; Node_2
        from Node_1 --&gt; Node_4
        from Node_1 --&gt; Node_6
        from Node_1 --&gt; Node_7
Node_7 (visit order: 2)
        from Node_7 --&gt; Node_9
Node_9 (visit order: 3)
Node_6 (visit order: 4)
        from Node_6 --&gt; Node_5
        from Node_6 --&gt; Node_8
Node_8 (visit order: 5)
        from Node_8 --&gt; Node_9
Node_5 (visit order: 6)
        from Node_5 --&gt; Node_4
Node_2 (visit order: 7)
        from Node_2 --&gt; Node_7
Starting from Node_3
Node_3 (visit order: 1)
        from Node_3 --&gt; Node_4

G1 from Node_6:
Starting from Node_6
Node_6 (visit order: 1)
        from Node_6 --&gt; Node_5
        from Node_6 --&gt; Node_8
Node_8 (visit order: 2)
        from Node_8 --&gt; Node_9
Node_9 (visit order: 3)
Node_5 (visit order: 4)
        from Node_5 --&gt; Node_4
Node_4 (visit order: 5)
Starting from Node_1
Node_1 (visit order: 1)
        from Node_1 --&gt; Node_2
        from Node_1 --&gt; Node_4
        from Node_1 --&gt; Node_6
        from Node_1 --&gt; Node_7
Node_7 (visit order: 2)
        from Node_7 --&gt; Node_9
Node_2 (visit order: 3)
        from Node_2 --&gt; Node_7
Starting from Node_3
Node_3 (visit order: 1)
        from Node_3 --&gt; Node_4
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzerEx1.py">DiGraphLLAnalyzerEx1.py</a></p>
</div><ol class="arabic simple" start="2">
<li><p>Write a method <code class="docutils literal notranslate"><span class="pre">getDFStime(self,start_sort</span> <span class="pre">=</span> <span class="pre">True)</span></code> that for each node of a <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code>, returns its start and end time in a DFS visit. Time is just a counter that counts the visiting operations. Start time is when a node has first been encountered, and end time is when all its subgraph has been visited and the algorithm moved to another part of the graph. Sort the results by start time or by end time depending on the value of <code class="docutils literal notranslate"><span class="pre">start_sort</span></code> that can be True or False (Hint: use
lambda functions with sort!).</p></li>
</ol>
<p>Hint: implement another function (<code class="docutils literal notranslate"><span class="pre">dfsTime(self,</span> <span class="pre">root,</span> <span class="pre">visited,</span> <span class="pre">times,</span> <span class="pre">time)</span></code>) that performs a dfs of the graph updating a structure of start and end times (<code class="docutils literal notranslate"><span class="pre">times</span></code>) and keeping a counter (<code class="docutils literal notranslate"><span class="pre">time</span></code>) that increases step by step by one.</p>
<p>Test the code with the following two graphs G and G1 (checking them with the pictures below):</p>
<img alt="notebooks/notebooks-to-exclude/images/g1_g2.png" src="notebooks/notebooks-to-exclude/images/g1_g2.png" />
<p>that can be generated by the following code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>G = DiGraphLLAnalyzer()
G1 = DiGraphLLAnalyzer()
for i in range(1,10):
    G.insertNode(&quot;Node_&quot; + str(i))
    G1.insertNode(&quot;Node_&quot; + str(i))

G.insertEdge(&quot;Node_1&quot;, &quot;Node_2&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_1&quot;,1)
G.insertEdge(&quot;Node_1&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_1&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_3&quot;, &quot;Node_4&quot;,1)
G.insertEdge(&quot;Node_3&quot;, &quot;Node_6&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_6&quot;, &quot;Node_4&quot;,1)
G.insertEdge(&quot;Node_6&quot;, &quot;Node_6&quot;,1)
G.insertEdge(&quot;Node_7&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_8&quot;,1)
G.insertEdge(&quot;Node_8&quot;, &quot;Node_7&quot;,1)
G.insertEdge(&quot;Node_9&quot;, &quot;Node_2&quot;,1)
#Graph G1
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_2&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_6&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_7&quot;, 1)
G1.insertEdge(&quot;Node_2&quot; ,&quot;Node_7&quot;, 1)
G1.insertEdge(&quot;Node_3&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_5&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_5&quot;, 1)
G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_8&quot;, 1)
G1.insertEdge(&quot;Node_7&quot; ,&quot;Node_9&quot;, 1)
G1.insertEdge(&quot;Node_8&quot; ,&quot;Node_9&quot;, 1)
</pre></div>
</div>
<div class="tggle" onclick="toggleVisibility(&#39;Ex2&#39;);"><p>Show/Hide Solution</p>
</div><div id="Ex2" style="display:none;"><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>


<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">dfsTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="c1">#print(&quot;\t--&gt; {}&quot;.format(root))</span>
        <span class="n">start</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
        <span class="n">time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="c1">#print(&quot;\tStack:{}&quot;.format(recStack))</span>
        <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="c1">#print(outGoingEdges)</span>
        <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outGoingEdges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nextN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dfsTime</span><span class="p">(</span><span class="n">nextN</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span><span class="n">time</span><span class="p">)</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="n">end</span>
                    <span class="n">time</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">times</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">time</span>

    <span class="k">def</span> <span class="nf">getDFStime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_sort</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">times</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">time</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
                <span class="n">time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dfsTime</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span><span class="n">times</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

        <span class="n">sortRes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
             <span class="n">sortRes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span><span class="n">times</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">times</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>

        <span class="k">if</span> <span class="n">start_sort</span><span class="p">:</span>
            <span class="n">sortRes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">el</span> <span class="p">:</span> <span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sortRes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">el</span> <span class="p">:</span> <span class="n">el</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sortRes</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[</span><span class="si">{}</span><span class="s2">] </span><span class="si">{}</span><span class="s2"> start Time: </span><span class="si">{}</span><span class="s2"> end Time: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
                                                              <span class="n">sortRes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                                              <span class="n">sortRes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                                                              <span class="n">sortRes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="n">G1</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">G1</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#Graph G1</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;G (sorted by start):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">getDFStime</span><span class="p">(</span><span class="n">start_sort</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G (sorted by end):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">getDFStime</span><span class="p">(</span><span class="n">start_sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G1 (sorted by end):&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">getDFStime</span><span class="p">(</span><span class="n">start_sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
G (sorted by start):
Starting from Node_1
Starting from Node_9
[1] Node_1 start Time: 1 end Time: 16
[2] Node_2 start Time: 2 end Time: 15
[3] Node_3 start Time: 3 end Time: 8
[4] Node_4 start Time: 4 end Time: 5
[5] Node_6 start Time: 6 end Time: 7
[6] Node_5 start Time: 9 end Time: 14
[7] Node_8 start Time: 10 end Time: 13
[8] Node_7 start Time: 11 end Time: 12
[9] Node_9 start Time: 16 end Time: 17

G (sorted by end):
Starting from Node_1
Starting from Node_9
[1] Node_4 start Time: 4 end Time: 5
[2] Node_6 start Time: 6 end Time: 7
[3] Node_3 start Time: 3 end Time: 8
[4] Node_7 start Time: 11 end Time: 12
[5] Node_8 start Time: 10 end Time: 13
[6] Node_5 start Time: 9 end Time: 14
[7] Node_2 start Time: 2 end Time: 15
[8] Node_1 start Time: 1 end Time: 16
[9] Node_9 start Time: 16 end Time: 17

G1 (sorted by end):
Starting from Node_1
Starting from Node_3
[1] Node_9 start Time: 4 end Time: 5
[2] Node_7 start Time: 3 end Time: 6
[3] Node_2 start Time: 2 end Time: 7
[4] Node_4 start Time: 8 end Time: 9
[5] Node_5 start Time: 11 end Time: 12
[6] Node_8 start Time: 13 end Time: 14
[7] Node_6 start Time: 10 end Time: 15
[8] Node_1 start Time: 1 end Time: 16
[9] Node_3 start Time: 16 end Time: 17
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzerEx2.py">DiGraphLLAnalyzerEx2.py</a></p>
</div></section>
<section id="Breadth-First-Search-(BFS)">
<h3>Breadth First Search (BFS)<a class="headerlink" href="#Breadth-First-Search-(BFS)" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">Breadth-first search visits all the nodes starting from a <em>root</em> node and proceeding level by level.</div>
<div class="line">This means that we first visit <strong>all the nodes at distance 1</strong> from the <em>root</em>, then <strong>all the nodes at distance 2</strong> and so on.</div>
<div class="line">This algorithm, in general, does not visit all the nodes, but only those that are reachable from the specified root. If all nodes must be visited, another visit should start from a node not touched in the first visit.</div>
</div>
<p><strong>This algorithm is quite useful to find the shortest path between two nodes.</strong></p>
<p><strong>Example:</strong> Let’s implement BFS in the <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code> class.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>


<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">BFSvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">root</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">():</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="c1">#visited is a set of visited nodes</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curNode</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">outGoingEdges</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1">#remember that self.adjacentEdge returns:</span>
                    <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
                    <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;From </span><span class="si">{}</span><span class="s2">:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">curNode</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">nextNode</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">nextNode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                        <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nextNode</span> <span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BFS(Node_1):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">BFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Now BFS(Node_5):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">BFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Now BFS(Node_9):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">BFSvisit</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
BFS(Node_1):
From Node_1:
         --&gt; Node_2
         --&gt; Node_3
         --&gt; Node_5
From Node_2:
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_5:
         --&gt; Node_8
From Node_4:
From Node_6:
From Node_8:
         --&gt; Node_7
From Node_7:

------------

Now BFS(Node_5):
From Node_5:
         --&gt; Node_3
         --&gt; Node_8
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_8:
         --&gt; Node_7
From Node_4:
From Node_6:
From Node_7:

------------

Now BFS(Node_9):
From Node_9:
         --&gt; Node_2
From Node_2:
         --&gt; Node_1
         --&gt; Node_3
         --&gt; Node_5
From Node_1:
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_5:
         --&gt; Node_8
From Node_4:
From Node_6:
From Node_8:
         --&gt; Node_7
From Node_7:

------------
</pre></div></div>
</div>
<p>The created graph is (do not look at the weights):</p>
<img alt="notebooks/notebooks-to-exclude/images/testgraph.png" src="notebooks/notebooks-to-exclude/images/testgraph.png" />
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzer4.py">DiGraphLLAnalyzer4.py</a></p>
<p><strong>Also in this case Node_9 is not visited! (if you start from Node_1)</strong></p>
<p>To visit all the nodes of the tree and get a forest of BFS trees we need to modify the code as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>


<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">BFSvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="n">len_path</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">root</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">():</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="c1">#visited is a set of visited nodes</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">len_path</span>
            <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curNode</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="n">len_path</span> <span class="o">=</span> <span class="n">len_path</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">outGoingEdges</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1">#remember that self.adjacentEdge returns:</span>
                    <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
                    <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">len_path</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;From </span><span class="si">{}</span><span class="s2">:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">curNode</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">nextNode</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">nextNode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                        <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nextNode</span> <span class="p">))</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">BFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">BFSvisit</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">visited</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">BFSvisit</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">visited</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BFS(Node_1):&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">BFS</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Now BFS(Node_5):&quot;</span><span class="p">)</span>
    <span class="c1">#G.BFS(&quot;Node_5&quot;)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Now BFS(Node_9):&quot;</span><span class="p">)</span>
    <span class="c1">#G.BFS(&quot;Node_9&quot;)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
BFS(Node_1):
Starting from Node_1
From Node_1:
         --&gt; Node_2
         --&gt; Node_3
         --&gt; Node_5
From Node_2:
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_5:
         --&gt; Node_8
From Node_4:
From Node_6:
From Node_8:
         --&gt; Node_7
From Node_7:
Starting from Node_2
From Node_2:
         --&gt; Node_1
         --&gt; Node_3
         --&gt; Node_5
From Node_1:
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_5:
         --&gt; Node_8
From Node_4:
From Node_6:
From Node_8:
         --&gt; Node_7
From Node_7:
Starting from Node_3
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_4:
From Node_6:
Starting from Node_4
From Node_4:
Starting from Node_5
From Node_5:
         --&gt; Node_3
         --&gt; Node_8
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_8:
         --&gt; Node_7
From Node_4:
From Node_6:
From Node_7:
Starting from Node_6
From Node_6:
         --&gt; Node_4
From Node_4:
Starting from Node_7
From Node_7:
         --&gt; Node_5
From Node_5:
         --&gt; Node_3
         --&gt; Node_8
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_8:
From Node_4:
From Node_6:
Starting from Node_8
From Node_8:
         --&gt; Node_7
From Node_7:
         --&gt; Node_5
From Node_5:
         --&gt; Node_3
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_4:
From Node_6:
Starting from Node_9
From Node_9:
         --&gt; Node_2
From Node_2:
         --&gt; Node_1
         --&gt; Node_3
         --&gt; Node_5
From Node_1:
From Node_3:
         --&gt; Node_4
         --&gt; Node_6
From Node_5:
         --&gt; Node_8
From Node_4:
From Node_6:
From Node_8:
         --&gt; Node_7
From Node_7:

------------

Now BFS(Node_5):

------------

Now BFS(Node_9):

------------
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzer5.py">DiGraphLLAnalyzer5.py</a></p>
</section>
<section id="Exercise">
<h3>Exercise<a class="headerlink" href="#Exercise" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="3">
<li><p>Write a method <code class="docutils literal notranslate"><span class="pre">shortestPath(self,</span> <span class="pre">node1,</span> <span class="pre">node2)</span></code> that finds the shortest path between two nodes <code class="docutils literal notranslate"><span class="pre">node1</span></code> and <code class="docutils literal notranslate"><span class="pre">node2</span></code> (if it exists) ignoring any weight on the edges.</p></li>
</ol>
<p>Hint: modify the BFS in such a way at it stops when the second node is reached (or when no more nodes can be explored). Apply this code twice, that is once from node1–&gt;node2 and the other from node2–&gt;node1 to find the shortest of the two. You need to change the code in order to obtain the path.</p>
<p>Structuring the code (hints):</p>
<ol class="loweralpha simple">
<li><p>Implement a method <code class="docutils literal notranslate"><span class="pre">shortestPath(self,node1,node2)</span></code> that finds and prints the shortest path between node1 and node2 (testing both node1 –&gt; node2 and node2 –&gt; node1 and returning the shortest of the two) calling the other two functions;</p></li>
<li><p>Implement a method <code class="docutils literal notranslate"><span class="pre">path</span> <span class="pre">=</span> <span class="pre">findShortestPath(self,node1,node2)</span></code> that returns the path going from node1 to node2 if this exist. <strong>Note:</strong> in my implementation, path is a list starting with the terminal node [<em>node2, nodex, nodexx, node1</em>] and ending with the first node of the sought path. The idea behind the implementation of this method is to store somewhere (like in a dictionary) the parent of each visited node and then produce the list above going backwards from node2 up to node1.</p></li>
<li><p>Implement a method <code class="docutils literal notranslate"><span class="pre">printPath(self,path)</span></code> that gets a path as specified above and prints it out like:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Shortest path between: Node_1 and Node_6
Node_1 --&gt; Node_3
    Node_3 --&gt; Node_6
</pre></div>
</div>
<p>Test the code with the following two graphs G and G1 (checking them with the pictures below):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>G = DiGraphLLAnalyzer()
G1 = DiGraphLLAnalyzer()
for i in range(1,10):
    G.insertNode(&quot;Node_&quot; + str(i))
    G1.insertNode(&quot;Node_&quot; + str(i))

G.insertEdge(&quot;Node_1&quot;, &quot;Node_2&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_1&quot;,1)
G.insertEdge(&quot;Node_1&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_1&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_2&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_3&quot;, &quot;Node_4&quot;,1)
G.insertEdge(&quot;Node_3&quot;, &quot;Node_6&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_3&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_6&quot;, &quot;Node_4&quot;,1)
G.insertEdge(&quot;Node_6&quot;, &quot;Node_6&quot;,1)
G.insertEdge(&quot;Node_7&quot;, &quot;Node_5&quot;,1)
G.insertEdge(&quot;Node_5&quot;, &quot;Node_8&quot;,1)
G.insertEdge(&quot;Node_8&quot;, &quot;Node_7&quot;,1)
G.insertEdge(&quot;Node_9&quot;, &quot;Node_2&quot;,1)
#Graph G1
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_2&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_6&quot;, 1)
G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_7&quot;, 1)
G1.insertEdge(&quot;Node_2&quot; ,&quot;Node_7&quot;, 1)
G1.insertEdge(&quot;Node_3&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_5&quot; ,&quot;Node_4&quot;, 1)
G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_5&quot;, 1)
G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_8&quot;, 1)
G1.insertEdge(&quot;Node_7&quot; ,&quot;Node_9&quot;, 1)
G1.insertEdge(&quot;Node_8&quot; ,&quot;Node_9&quot;, 1)

G.shortestPath(&quot;Node_1&quot;,&quot;Node_6&quot;)
G.shortestPath(&quot;Node_8&quot;,&quot;Node_9&quot;)
G.shortestPath(&quot;Node_8&quot;,&quot;Node_4&quot;)

print(&quot;\n\nG1:&quot;)
G1.shortestPath(&quot;Node_8&quot;,&quot;Node_4&quot;)
G1.shortestPath(&quot;Node_9&quot;,&quot;Node_1&quot;)
G1.shortestPath(&quot;Node_4&quot;,&quot;Node_1&quot;)
</pre></div>
</div>
<img alt="notebooks/notebooks-to-exclude/images/g1_g2.png" src="notebooks/notebooks-to-exclude/images/g1_g2.png" />
<div class="tggle" onclick="toggleVisibility(&#39;Ex3&#39;);"><p>Show/Hide Solution</p>
</div><div id="Ex3" style="display:none;"><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>

    <span class="c1"># ... missing code ...</span>

<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">findShortestPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">):</span>
        <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
        <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="c1">#visited is a set of visited nodes</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="c1">#for each node (apart from node1)</span>
        <span class="c1">#this will store the node that led to it</span>
        <span class="c1">#eg. if path is node1--&gt; node3--&gt;node2</span>
        <span class="c1"># previous[node2] = node3</span>
        <span class="c1"># previous[node3] = node1</span>
        <span class="n">previous</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
            <span class="n">curNode</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>

            <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">curNode</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">outGoingEdges</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#remember that self.adjacentEdge returns:</span>
                <span class="c1">#[(&#39;node1&#39;,&#39;node2&#39;, weight1), ...(&#39;node1&#39;, &#39;nodeX&#39;, weightX)]</span>
                <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">nextNode</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nextNode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">nextNode</span> <span class="o">==</span> <span class="n">node2</span><span class="p">:</span>
                        <span class="n">previous</span><span class="p">[</span><span class="n">node2</span><span class="p">]</span> <span class="o">=</span> <span class="n">curNode</span>
                        <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nextNode</span><span class="p">)</span>
                        <span class="n">previous</span><span class="p">[</span><span class="n">nextNode</span><span class="p">]</span> <span class="o">=</span> <span class="n">curNode</span>


        <span class="c1">#if node2 is in the previous dictionary:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">node2</span><span class="p">]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">previous</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">p</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">previous</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1">#note that ret has the reverseof the path</span>
        <span class="c1">#[node2, node3, node1]</span>
        <span class="c1">#or just [node2] if not path exists</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">printPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Shortest path between: </span><span class="si">{}</span><span class="s2"> and </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                                                            <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                 <span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">*</span><span class="p">(</span><span class="n">L</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                                       <span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                                       <span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

    <span class="k">def</span> <span class="nf">shortestPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">):</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes</span> <span class="ow">or</span> <span class="n">node2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;one of the two is not in the graph&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node1</span> <span class="o">==</span> <span class="n">node2</span><span class="p">:</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;the path is just the node&quot;&quot;&quot;</span>
                <span class="k">return</span> <span class="n">node1</span>
            <span class="k">else</span><span class="p">:</span>

                <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findShortestPath</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
                <span class="n">path1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findShortestPath</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">path</span> <span class="o">==</span> <span class="p">[</span><span class="n">node2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">path1</span> <span class="o">==</span> <span class="p">[</span><span class="n">node1</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No paths exist between </span><span class="si">{}</span><span class="s2"> and </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span>
                                                                    <span class="n">node2</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
                    <span class="n">L1</span> <span class="o">=</span> <span class="n">L</span>
                    <span class="k">if</span> <span class="n">path</span> <span class="o">!=</span> <span class="p">[</span><span class="n">node2</span><span class="p">]:</span>
                        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">path1</span> <span class="o">!=</span> <span class="p">[</span><span class="n">node1</span><span class="p">]:</span>
                        <span class="n">L1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path1</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="n">L1</span><span class="p">:</span>
<span class="w">                        </span><span class="sd">&quot;&quot;&quot;print first path&quot;&quot;&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">printPath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

                    <span class="k">else</span><span class="p">:</span>
<span class="w">                        </span><span class="sd">&quot;&quot;&quot;print second path&quot;&quot;&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">printPath</span><span class="p">(</span><span class="n">path1</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="n">G1</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">G1</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#Graph G1</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">G1:&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">shortestPath</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Shortest path between: Node_1 and Node_6
Node_1 --&gt; Node_3
        Node_3 --&gt; Node_6
Shortest path between: Node_9 and Node_8
Node_9 --&gt; Node_2
        Node_2 --&gt; Node_5
                Node_5 --&gt; Node_8
Shortest path between: Node_8 and Node_4
Node_8 --&gt; Node_7
        Node_7 --&gt; Node_5
                Node_5 --&gt; Node_3
                        Node_3 --&gt; Node_4
Shortest path between: Node_9 and Node_4
Node_9 --&gt; Node_2
        Node_2 --&gt; Node_3
                Node_3 --&gt; Node_4


G1:
No paths exist between Node_8 and Node_4
Shortest path between: Node_1 and Node_9
Node_1 --&gt; Node_7
        Node_7 --&gt; Node_9
Shortest path between: Node_1 and Node_4
Node_1 --&gt; Node_4
</pre></div></div>
</div>
<img alt="notebooks/notebooks-to-exclude/images/g1_g2.png" src="notebooks/notebooks-to-exclude/images/g1_g2.png" />
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzerEx3.py">DiGraphLLAnalyzerEx3.py</a></p>
</div></section>
</section>
<section id="id1">
<h2>Exercise<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ol class="arabic simple" start="4">
<li><p>Write a method <code class="docutils literal notranslate"><span class="pre">isCyclic(self)</span></code> that identifies if a direct graph (implemented as a <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code>) is cyclic or not (i.e. returns True for a graph with cycles and False for a graph without cycles).</p></li>
</ol>
<p><strong>Hint</strong>: you can perform a <strong>recursive DFS</strong> and check if any edge that is being explored is actually a back-edge (i.e. an edge that points back to one of the nodes present in the recursion-stack of the nodes found so far). To do that you have to store a set of nodes that are along the path that is traversed recursively and check if the nodes that you are adding to the path are already present in this set of nodes).</p>
<p>Test the code with the following three graphs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>G = DiGraphLLAnalyzer()
    G1 = DiGraphLLAnalyzer()
    G2 = DiGraphLLAnalyzer()
    for i in range(1,10):
        G.insertNode(&quot;Node_&quot; + str(i))
        G1.insertNode(&quot;Node_&quot; + str(i))
        if i&lt;9:
            G2.insertNode(&quot;Node_&quot; + str(i))

    G.insertEdge(&quot;Node_1&quot;, &quot;Node_2&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_1&quot;,1)
    G.insertEdge(&quot;Node_1&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_1&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_2&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_3&quot;, &quot;Node_4&quot;,1)
    G.insertEdge(&quot;Node_3&quot;, &quot;Node_6&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_3&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_4&quot;,1)
    G.insertEdge(&quot;Node_6&quot;, &quot;Node_6&quot;,1)
    G.insertEdge(&quot;Node_7&quot;, &quot;Node_5&quot;,1)
    G.insertEdge(&quot;Node_5&quot;, &quot;Node_8&quot;,1)
    G.insertEdge(&quot;Node_8&quot;, &quot;Node_7&quot;,1)
    G.insertEdge(&quot;Node_9&quot;, &quot;Node_2&quot;,1)

    #Graph G1
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_2&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_6&quot;, 1)
    G1.insertEdge(&quot;Node_1&quot; ,&quot;Node_7&quot;, 1)
    G1.insertEdge(&quot;Node_2&quot; ,&quot;Node_7&quot;, 1)
    G1.insertEdge(&quot;Node_3&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_5&quot; ,&quot;Node_4&quot;, 1)
    G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_5&quot;, 1)
    G1.insertEdge(&quot;Node_6&quot; ,&quot;Node_8&quot;, 1)
    G1.insertEdge(&quot;Node_7&quot; ,&quot;Node_9&quot;, 1)
    G1.insertEdge(&quot;Node_8&quot; ,&quot;Node_9&quot;, 1)

    #Graph G2
    G2.insertEdge(&quot;Node_1&quot; ,&quot;Node_2&quot;, 1)
    G2.insertEdge(&quot;Node_2&quot; ,&quot;Node_3&quot;, 1)
    G2.insertEdge(&quot;Node_2&quot; ,&quot;Node_4&quot;, 1)
    G2.insertEdge(&quot;Node_2&quot; ,&quot;Node_5&quot;, 1)
    G2.insertEdge(&quot;Node_6&quot; ,&quot;Node_2&quot;, 1)
    G2.insertEdge(&quot;Node_6&quot; ,&quot;Node_7&quot;,1)
    G2.insertEdge(&quot;Node_8&quot; ,&quot;Node_7&quot;, 1)
    G2.insertEdge(&quot;Node_8&quot; ,&quot;Node_4&quot;, 1)
    G2.insertEdge(&quot;Node_7&quot; ,&quot;Node_5&quot;, 1)

    print(&quot;Is G cyclic? {}&quot;.format(G.isCyclic()))
    print(&quot;\nG1:&quot;)
    print(&quot;Is G1 cyclic? {}&quot;.format(G1.isCyclic()))
    print(&quot;\nG2:&quot;)
    print(&quot;Is G2 cyclic? {}&quot;.format(G2.isCyclic()))
</pre></div>
</div>
<p>Here are the graphs:</p>
<img alt="notebooks/notebooks-to-exclude/images/3g.png" src="notebooks/notebooks-to-exclude/images/3g.png" />
<div class="tggle" onclick="toggleVisibility(&#39;Ex4&#39;);"><p>Show/Hide Solution</p>
</div><div id="Ex4" style="display:none;"><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>

    <span class="c1"># ... missing code ...</span>

<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>

    <span class="c1"># ... missing code ...</span>

    <span class="k">def</span> <span class="nf">testCyclic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">recStack</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()):</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">recStack</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="c1">## Uncomment print lines to see what is going on</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CURRENT: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Stack:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">recStack</span><span class="p">))</span>
        <span class="n">outGoingEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outGoingEdges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nextNodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outGoingEdges</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">NEXTnodes:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nextNodes</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">nextNodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nextN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nextN</span><span class="p">))</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testCyclic</span><span class="p">(</span><span class="n">nextN</span><span class="p">,</span><span class="n">visited</span><span class="p">,</span><span class="n">recStack</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">nextN</span> <span class="ow">in</span> <span class="n">recStack</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2"> closes cycle&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">nextN</span><span class="p">))</span>
                        <span class="k">return</span> <span class="kc">True</span>

        <span class="c1">#when the recursion ends</span>
        <span class="c1">#we remove the element from the stack</span>
        <span class="n">recStack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">isCyclic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">testCyclic</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="n">G1</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="n">G2</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">G1</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">:</span>
            <span class="n">G2</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_8&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1">#Graph G1</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_8&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G1</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_9&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1">#Graph G2</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_8&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G2</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span> <span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is G cyclic? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">isCyclic</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G1:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is G1 cyclic? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G1</span><span class="o">.</span><span class="n">isCyclic</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">G2:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is G2 cyclic? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G2</span><span class="o">.</span><span class="n">isCyclic</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzerEx4.py">DiGraphLLAnalyzerEx4.py</a></p>
</div></section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Riccardo Scandino.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>