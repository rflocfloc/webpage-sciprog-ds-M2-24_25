

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 2, Practical 8 &mdash; sciprog-ds-M2-24_25  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Module 2, Practical 7" href="M2_practical7.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            sciprog-ds-M2-24_25
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">     Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical1.html">     Practical 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical2.html">     Practical 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical3.html">     Practical 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical4.html">     Practical 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical5.html">     Practical 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical6.html">     Practical 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical7.html">     Practical 7</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Practical 8</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Graphs">Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Graph-ADT">Graph ADT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Implementation-as-adjacency-matrix">Implementation as adjacency matrix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Implementation-as-(adjacency)-linked-list">Implementation as (adjacency) linked list</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Exercises</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sciprog-ds-M2-24_25</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Module 2, Practical 8</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/M2_practical8.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Module-2,-Practical-8">
<h1>Module 2, Practical 8<a class="headerlink" href="#Module-2,-Practical-8" title="Link to this heading"></a></h1>
<p>In this practical we will keep working with data structures. In particular, we will see a very important and quite complex data structure called <strong>graph</strong>.</p>
<section id="Graphs">
<h2>Graphs<a class="headerlink" href="#Graphs" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">Graphs are mathematical structures made of two key elements: <strong>nodes</strong> (or <strong>vertices</strong>) and <strong>edges</strong>.</div>
<div class="line">Nodes are objects that we want to represent and edges are relationships among these objects. Mathematically, a graph is an entity <span class="math notranslate nohighlight">\(G = (N,E)\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is a set of nodes and <span class="math notranslate nohighlight">\(E = N \times N\)</span> is the set of edges.</div>
</div>
<p>Nodes are most often represented as circles, while edges (relationships) are represented by lines/arrows connecting the nodes. An example follows:</p>
<img alt="../_images/graph_1.png" src="../_images/graph_1.png" />
<p>Relations represented by edges can be <strong>symmetric</strong> (e.g. sibling_of: if <span class="math notranslate nohighlight">\(X\)</span> is sibling of <span class="math notranslate nohighlight">\(Y\)</span> then <span class="math notranslate nohighlight">\(Y\)</span> is sibling of <span class="math notranslate nohighlight">\(X\)</span>) and in this case the edges are just lines rather than arrows. When edges are symmetric the graph is <strong>undirected</strong>.</p>
<p>If relationships are <strong>not symmetric</strong> (i.e. <span class="math notranslate nohighlight">\(X \rightarrow Y\)</span> does not imply <span class="math notranslate nohighlight">\(Y \rightarrow X\)</span>) we put an arrow to indicate the direction of the relationship among the nodes and in this case we say the graph is <strong>directed</strong>.</p>
<p>Some terminology (from the lecture):</p>
<img alt="../_images/graphTerms.png" src="../_images/graphTerms.png" />
<p>The <strong>degree</strong> of a node is the number of connections it has with other nodes. In directed graphs the <strong>in-degree</strong> is the number of <strong>incoming</strong> edges, while the <strong>out-degree</strong> is the number of <strong>outgoing</strong> edges.</p>
<img alt="../_images/degree.png" src="../_images/degree.png" />
<p>A <strong>path</strong> in the graph is a sequence of nodes connected by edges.</p>
<img alt="../_images/path.png" src="../_images/path.png" />
</section>
<section id="Graph-ADT">
<h2>Graph ADT<a class="headerlink" href="#Graph-ADT" title="Link to this heading"></a></h2>
<p>Graphs are dynamic data structures in which nodes and edges can be added/removed. The description of the <em>Graph</em> Abstract Data Type follows (from the lecture):</p>
<img alt="../_images/graphADT.png" src="../_images/graphADT.png" />
<p>This is the most general definition, as in some cases nodes and edges can only be added and not removed.</p>
<p>There are two classic ways of implementing a Graph: <strong>adjacency matrices</strong> and <strong>linked lists</strong>.</p>
</section>
<section id="Implementation-as-adjacency-matrix">
<h2>Implementation as adjacency matrix<a class="headerlink" href="#Implementation-as-adjacency-matrix" title="Link to this heading"></a></h2>
<p>A square matrix <span class="math notranslate nohighlight">\(G\)</span> having the size <span class="math notranslate nohighlight">\(N \times N\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is the number of nodes, is used to represent every possible connection among the nodes of the graph. In particular <span class="math notranslate nohighlight">\(G[i,j] = 1\)</span> if the graph has an edge connecting node <span class="math notranslate nohighlight">\(i\)</span> to node <span class="math notranslate nohighlight">\(j\)</span>, if that is not the case <span class="math notranslate nohighlight">\(G[i,j] = 0\)</span>.</p>
<p>An example of graph as adjacency matrix follows (from lecture):</p>
<img alt="../_images/adjacency.png" src="../_images/adjacency.png" />
<p>This representation of a graph has both advantages and disadvantages:</p>
<ul class="simple">
<li><p>it is quite <em>flexible</em> as it is possible to put weights on the values of the matrix instead of only 0 and 1;</p></li>
<li><p>it is quite <em>quick to check the presence of an edge</em> (both ways!): this just requires a lookup in the matrix G;</p></li>
<li><p>it <em>uses a lot of space</em> and most of the values often are 0 (sparse matrix, a lot of space is therefore wasted);</p></li>
<li><p>in undirected graphs, the matrix is symmetric therefore <em>half of the space could be saved</em>.</p></li>
</ul>
<p>Let’s see how we can implement a directed weighted graph as an <strong>adjacency matrix</strong> in Python.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DiGraphAsAdjacencyMatrix</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span> <span class="c1"># a set would be better, but we need an index to define</span>
                              <span class="c1"># the adjacency matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;gets the number of nodes&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>
    <span class="k">def</span> <span class="nf">matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">])</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)):</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">+</span> <span class="n">header</span> <span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1">#add the node if not there already.</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="c1">#add a row and a column of zeros in the matrix</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#first node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing an edge means setting its</span>
<span class="sd">        corresponding slot in the matrix to 0&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing a node means removing</span>
<span class="sd">        its corresponding row and column in the matrix&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1">#print(&quot;Removing {} at index {}&quot;.format(node, i))</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                <span class="n">row</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Your treat! (see exercise 1)&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Your treat! (see exercise1). Returns all the edges&quot;&quot;&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphAsAdjacencyMatrix</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size is: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nodes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Matrix:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">)</span>
    <span class="c1">#no effect, nodes do not exist!</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
        Node_1  Node_2  Node_3  Node_4  Node_5  Node_6
Node_1  0       0.5     0       0       0       1
Node_2  0       0       0.5     0       0       1
Node_3  0       0       0       0.5     0       1
Node_4  0       0       0       0       0.5     1
Node_5  0.5     0       0       0       0       1
Node_6  0       0       0       0       0       1

Size is: 7
Nodes: [&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;, &#39;Node_6&#39;, &#39;Node_7&#39;]

Matrix:
        Node_1  Node_2  Node_3  Node_4  Node_5  Node_6  Node_7
Node_1  0       0.5     0       0       0       1       -1
Node_2  0       0       0.5     0       0       1       -2
Node_3  0       0       0       0.5     0       1       0
Node_4  0       0       0       0       0.5     1       0
Node_5  0.5     0       0       0       0       1       -5
Node_6  0       0       0       0       0       1       0
Node_7  0       -2      -3      0       0       0       0

        Node_1  Node_2  Node_3  Node_4  Node_5  Node_6
Node_1  0       0.5     0       0       0       1
Node_2  0       0       0.5     0       0       1
Node_3  0       0       0       0.5     0       1
Node_4  0       0       0       0       0.5     1
Node_5  0.5     0       0       0       0       1
Node_6  0       0       0       0       0       1

</pre></div></div>
</div>
<p>The matrix above represents the following graph:</p>
<img alt="../_images/star.png" src="../_images/star.png" />
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphAsAdjacencyMatrix.py">DiGraphAsAdjacencyMatrix.py</a></p>
<section id="Exercises">
<h3>Exercises<a class="headerlink" href="#Exercises" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Consider the <code class="docutils literal notranslate"><span class="pre">DiGraphAsAdjacencyMatrix</span></code> graph class. Add the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">adjacent(self,</span> <span class="pre">node)</span></code> : given a node returns all the nodes connected to it;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adjacentEdge(self,</span> <span class="pre">node,</span> <span class="pre">incoming=True)</span></code> : given a node, returns all the nodes close to it (incoming if “incoming=True” or outgoing if “incoming = False”) as a list of triplets (source_node, dest_node, weight);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edges(self)</span></code> : returns all the edges in the graph as triplets (i,j, weight);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edgeIn(self,</span> <span class="pre">node1,</span> <span class="pre">node2)</span></code> : check if the edge node1 –&gt; node2 is in the graph;</p></li>
</ul>
<p>Test the code with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphAsAdjacencyMatrix</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
    <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


<span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>


<span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">)</span>
<span class="c1">#no effect, nodes do not exist!</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_6:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_4:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_3:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges outgoing from Node_3:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges incoming to Node_3:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_6:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_743432:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_743432&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All edges:&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Is (Node_4,Node_5) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_4,Node_3) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_3&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_3,Node_4) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_6,Node_6) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)))</span>
</pre></div>
</div>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DiGraphAsAdjacencyMatrix</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;gets the number of nodes&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>
    <span class="k">def</span> <span class="nf">matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">])</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)):</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">+</span> <span class="n">header</span> <span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1">#add the node if not there.</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="c1">#add a row and a column of zeros in the matrix</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#first node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing an edge means to set its</span>
<span class="sd">        corresponding place in the matrix to 0&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing a node means removing</span>
<span class="sd">        its corresponding row and column in the matrix&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1">#print(&quot;Removing {} at index {}&quot;.format(node, i))</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                <span class="n">row</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns a list of nodes connected to node&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
                <span class="n">nodeJ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodeJ</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacentEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If incoming == False we look at the row of the node,</span>
<span class="sd">        else at the column. An edge is present if weight</span>
<span class="sd">        is different from zero</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="c1">#if the node is present</span>
            <span class="k">if</span> <span class="n">incoming</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                    <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)):</span>
                    <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node2</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">i</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns all the edges in the graph as triplets&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
                <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edgeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if there exist an edge between node1 and node2</span>
<span class="sd">        (i.e. weight != 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="ow">and</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
            <span class="n">n2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
            <span class="n">w</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">n1</span><span class="p">][</span><span class="n">n2</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphAsAdjacencyMatrix</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">)</span>
    <span class="c1">#no effect, nodes do not exist!</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_6:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_4:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges outgoing from Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges incoming to Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_6:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_743432:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_743432&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All edges:&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Is (Node_4,Node_5) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_4,Node_3) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_3&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_3,Node_4) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_6,Node_6) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
        Node_1  Node_2  Node_3  Node_4  Node_5  Node_6
Node_1  0       0.5     0       0       0       1
Node_2  0       0       0.5     0       0       1
Node_3  0       0       0       0.5     0       1
Node_4  0       0       0       0       0.5     1
Node_5  0.5     0       0       0       0       1
Node_6  0       0       0       0       0       1


Nodes connected to Node_6:
[&#39;Node_6&#39;]

Nodes connected to Node_4:
[&#39;Node_5&#39;, &#39;Node_6&#39;]

Nodes connected to Node_3:
[&#39;Node_4&#39;, &#39;Node_6&#39;]
Edges outgoing from Node_3:
[(&#39;Node_3&#39;, &#39;Node_4&#39;, 0.5), (&#39;Node_3&#39;, &#39;Node_6&#39;, 1)]
Edges incoming to Node_3:
[(&#39;Node_2&#39;, &#39;Node_3&#39;, 0.5)]

Edges incoming to Node_6:
[(&#39;Node_1&#39;, &#39;Node_6&#39;, 1), (&#39;Node_2&#39;, &#39;Node_6&#39;, 1), (&#39;Node_3&#39;, &#39;Node_6&#39;, 1), (&#39;Node_4&#39;, &#39;Node_6&#39;, 1), (&#39;Node_5&#39;, &#39;Node_6&#39;, 1), (&#39;Node_6&#39;, &#39;Node_6&#39;, 1)]

Edges incoming to Node_743432:
None

All edges:
[(&#39;Node_1&#39;, &#39;Node_2&#39;, 0.5), (&#39;Node_1&#39;, &#39;Node_6&#39;, 1), (&#39;Node_2&#39;, &#39;Node_3&#39;, 0.5), (&#39;Node_2&#39;, &#39;Node_6&#39;, 1), (&#39;Node_3&#39;, &#39;Node_4&#39;, 0.5), (&#39;Node_3&#39;, &#39;Node_6&#39;, 1), (&#39;Node_4&#39;, &#39;Node_5&#39;, 0.5), (&#39;Node_4&#39;, &#39;Node_6&#39;, 1), (&#39;Node_5&#39;, &#39;Node_1&#39;, 0.5), (&#39;Node_5&#39;, &#39;Node_6&#39;, 1), (&#39;Node_6&#39;, &#39;Node_6&#39;, 1)]

Is (Node_4,Node_5) there? True
Is (Node_4,Node_3) there? False
Is (Node_3,Node_4) there? True
Is (Node_6,Node_6) there? True
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphAsAdjacencyMatrixEx1.py">DiGraphAsAdjacencyMatrixEx1.py</a></p>
</details><ol class="arabic simple" start="2">
<li><p>Extend the <code class="docutils literal notranslate"><span class="pre">DiGraphAsAdjacencyMatrix</span></code> class creating a subclass <code class="docutils literal notranslate"><span class="pre">DiGraphAmAnalyzer</span></code> and adding the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getTopConnected_incoming(self)</span></code>: finds the node with the highest number of in-coming connections;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getTopConnected_outgoing(self)</span></code>: finds the node with the highest number of out-going connections;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasPath(self,</span> <span class="pre">node1,node2)</span></code> to check if there is a path connecting node1 to node2 (if it exists return the path as a list of pair of nodes, otherwise None;</p></li>
</ul>
<p>You can test your methods with the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphAmAnalyzer</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
    <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Adding edge Node_5 -- 0.5 --&gt; Node_5&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_4 connected?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Removing Node_6&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_alone2 connected?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Are Node_alone2 and Node_alone connected?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone&quot;</span><span class="p">))</span>
</pre></div>
</div>
<details><summary><p>Show/Hide Solution</p>
</details><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">DiGraphAsAdjacencyMatrix</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;gets the number of nodes&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>
    <span class="k">def</span> <span class="nf">matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">])</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)):</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">+</span> <span class="n">header</span> <span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="c1">#add the node if not there.</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="c1">#add a row and a column of zeros in the matrix</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#first node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing an edge means to set its</span>
<span class="sd">        corresponding place in the matrix to 0&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removing a node means removing</span>
<span class="sd">        its corresponding row and column in the matrix&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1">#print(&quot;Removing {} at index {}&quot;.format(node, i))</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">:</span>
                <span class="n">row</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns a list of nodes connected to node&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="c1">#get both incoming and outgoing edges to return nodes</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
                <span class="n">nodeJ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>

                <span class="c1">#incoming edges</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodeJ</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacentEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If incoming == False we look at the row of the node,</span>
<span class="sd">        else at the column. An edge is present if weight</span>
<span class="sd">        is different from zero</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="c1">#if the node is present</span>
            <span class="k">if</span> <span class="n">incoming</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                    <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">)):</span>
                    <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node2</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">i</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns all the edges in the graph as triplets&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)):</span>
                <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edgeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if there exist an edge between node1 and node2</span>
<span class="sd">        (i.e. weight != 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="ow">and</span> <span class="n">node2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
            <span class="n">n2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
            <span class="n">w</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">__matrix</span><span class="p">[</span><span class="n">n1</span><span class="p">][</span><span class="n">n2</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

<span class="k">class</span> <span class="nc">DiGraphAmAnalyzer</span><span class="p">(</span><span class="n">DiGraphAsAdjacencyMatrix</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">getTopConnected_incoming</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">topN</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="c1">#accumulator to count connections</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">())):</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">()[</span><span class="n">node</span><span class="p">])):</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">()[</span><span class="n">node</span><span class="p">][</span><span class="n">el</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">conn</span><span class="p">[</span><span class="n">el</span><span class="p">]</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">M</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">conn</span><span class="p">))</span> <span class="k">if</span> <span class="n">conn</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">M</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ind</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getTopConnected_outgoing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the node(s)&quot;&quot;&quot;</span>
        <span class="n">topN</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">())):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">()[</span><span class="n">node</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">conn</span><span class="p">:</span>
                <span class="n">topN</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">node</span><span class="p">]]</span>
                <span class="n">conn</span> <span class="o">=</span> <span class="n">n</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">conn</span><span class="p">:</span>
                    <span class="n">topN</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">node</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">topN</span>

    <span class="k">def</span> <span class="nf">__hasPathAux__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span> <span class="ow">or</span> <span class="n">node2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="n">i2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curN</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="n">i1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">curN</span><span class="p">)</span>
                <span class="c1">#do not travel on already visited nodes</span>
                <span class="k">if</span> <span class="n">curN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curN</span><span class="p">)</span>
                    <span class="c1">#get all outgoing nodes of Q</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">()[</span><span class="n">i1</span><span class="p">])):</span>
                        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">()[</span><span class="n">i1</span><span class="p">][</span><span class="n">edge</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">i2</span><span class="p">:</span>
                                <span class="k">return</span> <span class="kc">True</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">edge</span><span class="p">])</span>

            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">hasPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">):</span>
        <span class="c1">#checks both paths and returns True or false</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hasPathAux__</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">res</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__hasPathAux__</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node1</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphAmAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Adding edge Node_5 -- 0.5 --&gt; Node_5&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_4 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Removing Node_6&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_alone2 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Are Node_alone2 and Node_alone connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top connected (outgoing):
[&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;]
Top connected (incoming):
[&#39;Node_6&#39;]

Adding edge Node_5 -- 0.5 --&gt; Node_5
Top connected (outgoing):
[&#39;Node_5&#39;]

Are Node_1 and Node_4 connected?
True

Removing Node_6
Top connected (outgoing):
[&#39;Node_5&#39;]
Top connected (incoming):
[&#39;Node_5&#39;]

Are Node_1 and Node_alone2 connected?
False
Are Node_alone2 and Node_alone connected?
True
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphAmAnalyzer.py">DiGraphAmAnalyzer.py</a></p>
</details></section>
</section>
<section id="Implementation-as-(adjacency)-linked-list">
<h2>Implementation as (adjacency) linked list<a class="headerlink" href="#Implementation-as-(adjacency)-linked-list" title="Link to this heading"></a></h2>
<p>In this case a graph <span class="math notranslate nohighlight">\(G\)</span> is represented as an <strong>adjacency linked list</strong>, where each node <span class="math notranslate nohighlight">\(N\)</span> has a linked-list of nodes connected to it in <span class="math notranslate nohighlight">\(G\)</span>. In the case of directed graphs, every node contains a list of all the nodes reachable through some <strong>outgoing</strong> edges, while in the case of undirected graphs the list will be of all nodes connected together by means of an edge.</p>
<p>Some examples follow for both the cases of directed</p>
<img alt="../_images/linkedlistdir.png" src="../_images/linkedlistdir.png" />
<p>and undirected graphs (from lecture):</p>
<img alt="../_images/linkedlistundir.png" src="../_images/linkedlistundir.png" />
<p>The implementation through adjacency linked lists has both advantages and disadvantages:</p>
<ul class="simple">
<li><p>it is <em>flexible</em>, nodes can be complex objects (with the only requirement of the attribute linking to the neighboring nodes);</p></li>
<li><p>in general, <em>it uses less space</em>, only that required by the pointers encoding for the existing edges;</p></li>
<li><p>checking presence of an edge is in general <em>slower</em> (this requires going through the list of source node);</p></li>
<li><p>getting all incoming edges of a node is <em>slow</em> (requires going through all nodes!). A workaround to this problem is to store not only outgoing-edges but also incoming edges (but this requires more memory).</p></li>
</ul>
<div class="line-block">
<div class="line">Let’s see how we can implement a <em>directed weighted graph</em> as an <strong>adjacency linked list</strong> in Python.</div>
<div class="line">We will use a dictionary to represent nodes and corresponding connections.</div>
<div class="line">Therefore, we are not going to implement a linked list, but rather a <strong>dictionary of outgoing edges</strong>. That is, each node N is a dictionary of edges (the key of the dictionary is the node to which N is connected and the value is the weight).</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with second node as key and the weight as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1">#print(&quot;Node {} added&quot;.format(node))</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">test1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#if both nodes exist othewise don&#39;t do anything</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">exStr</span><span class="o">=</span> <span class="s2">&quot;Edge </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2"> already existing.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exStr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#print(&quot;Inserted {}--&gt;{} ({})&quot;.format(node1,node2,weight))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">][</span><span class="n">node2</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># need to loop through all the nodes!!!</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>

                <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> -- </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">edge</span><span class="p">]),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="n">edge</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Your treat! (see exercise 3)&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Your treat! (see exercise 3). Returns all the edges&quot;&quot;&quot;</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLL</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size is: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nodes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Graph:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">)</span>
    <span class="c1">#nodes do not exist! Therefore nothing happens!</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nodes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()))</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span><span class="s2">&quot;25&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nodes: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Node_1 -- 0.5 --&gt; Node_2
Node_1 -- 1 --&gt; Node_6
Node_2 -- 0.5 --&gt; Node_3
Node_2 -- 1 --&gt; Node_6
Node_3 -- 0.5 --&gt; Node_4
Node_3 -- 1 --&gt; Node_6
Node_4 -- 0.5 --&gt; Node_5
Node_4 -- 1 --&gt; Node_6
Node_5 -- 0.5 --&gt; Node_1
Node_5 -- 1 --&gt; Node_6
Node_6 -- 1 --&gt; Node_6

Size is: 7
Nodes: [&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;, &#39;Node_6&#39;, &#39;Node_7&#39;]
Graph:
Node_1 -- 0.5 --&gt; Node_2
Node_1 -- 1 --&gt; Node_6
Node_1 -- -1 --&gt; Node_7
Node_2 -- 0.5 --&gt; Node_3
Node_2 -- 1 --&gt; Node_6
Node_2 -- -2 --&gt; Node_7
Node_3 -- 0.5 --&gt; Node_4
Node_3 -- 1 --&gt; Node_6
Node_4 -- 0.5 --&gt; Node_5
Node_4 -- 1 --&gt; Node_6
Node_5 -- 0.5 --&gt; Node_1
Node_5 -- 1 --&gt; Node_6
Node_5 -- -5 --&gt; Node_7
Node_6 -- 1 --&gt; Node_6
Node_7 -- -2 --&gt; Node_2
Node_7 -- -3 --&gt; Node_3

Node_1 -- 0.5 --&gt; Node_2
Node_1 -- 1 --&gt; Node_6
Node_2 -- 0.5 --&gt; Node_3
Node_2 -- 1 --&gt; Node_6
Node_3 -- 0.5 --&gt; Node_4
Node_3 -- 1 --&gt; Node_6
Node_4 -- 0.5 --&gt; Node_5
Node_4 -- 1 --&gt; Node_6
Node_5 -- 0.5 --&gt; Node_1
Node_5 -- 1 --&gt; Node_6
Node_6 -- 1 --&gt; Node_6

Nodes: [&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;, &#39;Node_6&#39;]
Nodes: [&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;, &#39;Node_6&#39;]
Node_1 -- 0.5 --&gt; Node_2
Node_1 -- 1 --&gt; Node_6
Node_2 -- 0.5 --&gt; Node_3
Node_2 -- 1 --&gt; Node_6
Node_3 -- 0.5 --&gt; Node_4
Node_3 -- 1 --&gt; Node_6
Node_4 -- 0.5 --&gt; Node_5
Node_4 -- 1 --&gt; Node_6
Node_5 -- 0.5 --&gt; Node_1
Node_5 -- 1 --&gt; Node_6
Node_6 -- 1 --&gt; Node_6

</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLL.py">DiGraphLL.py</a></p>
<section id="id1">
<h3>Exercises<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="3">
<li><p>Consider the <code class="docutils literal notranslate"><span class="pre">DiGraphLL</span></code> graph class. Add the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">adjacent(self,</span> <span class="pre">node)</span></code> : given a node returns all the nodes connected to it (both incoming and outgoing);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adjacentEdge(self,</span> <span class="pre">node,</span> <span class="pre">incoming=True)</span></code> : given a node, returns all the nodes close to it (incoming if “incoming=True” or outgoing if “incoming = False”) as a list of pairs (node, other, weight);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edges(self)</span></code> : returns all the edges in the graph as pairs (i,j, weight);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">edgeIn(self,</span> <span class="pre">node1,</span> <span class="pre">node2)</span></code> : check if the edge node1 –&gt; node2 is in the graph;</p></li>
</ul>
<p>Test your methods with the test code from the previous exercise, changing <code class="docutils literal notranslate"><span class="pre">DiGraphAsAdjacencyMatrix</span></code> with <code class="docutils literal notranslate"><span class="pre">DiGraphLL</span></code>.</p>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with second node as key and the weight as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1">#print(&quot;Node {} added&quot;.format(node))</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">test1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#if both nodes exist othewise don&#39;t do anything</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">exStr</span> <span class="o">=</span> <span class="s2">&quot;Edge </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2"> already existing.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exStr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#print(&quot;Inserted {}--&gt;{} ({})&quot;.format(node1,node2,weight))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">][</span><span class="n">node2</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># need to loop through all the nodes!!!</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>

                <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> -- </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">edge</span><span class="p">]),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="n">edge</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns a list of nodes connected to node&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                    <span class="c1">#all outgoing edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#all incoming edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacentEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If incoming == False</span>
<span class="sd">        we look at the edges of the node</span>
<span class="sd">        else we need to loop through all the nodes.</span>
<span class="sd">        An edge is present if there is a</span>
<span class="sd">        corresponding entry in the dictionary.</span>
<span class="sd">        If no such nodes exist returns None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">incoming</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">otherNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">otherNode</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">otherNode</span><span class="p">:</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">other</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="n">node</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns all the edges in a list of triplets&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">edge</span><span class="p">]</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span><span class="n">edge</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edgeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if edge node1 --&gt; node2 is present&quot;&quot;&quot;</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n2</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLL</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_7&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_2&quot;</span><span class="p">)</span>
    <span class="c1">#no effect, nodes do not exist!</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;72&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_6:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_4:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nodes connected to Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacent</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges outgoing from Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">False</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edges incoming to Node_3:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_6:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Edges incoming to Node_743432:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adjacentEdge</span><span class="p">(</span><span class="s2">&quot;Node_743432&quot;</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All edges:&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Is (Node_4,Node_5) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_5&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_4,Node_3) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_4&quot;</span><span class="p">,</span><span class="s2">&quot;Node_3&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_3,Node_4) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_3&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is (Node_6,Node_6) there? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">G</span><span class="o">.</span><span class="n">edgeIn</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLEx3.py">DiGraphLLEx3.py</a></p>
</details><ol class="arabic simple" start="4">
<li><p>Extend the <code class="docutils literal notranslate"><span class="pre">DiGraphLL</span></code> class creating a subclass <code class="docutils literal notranslate"><span class="pre">DiGraphLLAnalyzer</span></code> by adding the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getTopConnected_incoming(self)</span></code>: finds the node with the highest number of in-coming connections;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getTopConnected_outgoing(self)</span></code>: finds the node with the highest number of out-going connections;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasPath(self,</span> <span class="pre">node1,node2)</span></code> to check if there is a path connecting node1 to node2 (if it exists return the path as a list of pair of nodes, otherwise None;</p></li>
</ul>
<p>Test your class with the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Adding edge Node_5 -- 0.5 --&gt; Node_5&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_4 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Removing Node_6&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_alone2 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Are Node_alone2 and Node_alone connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone&quot;</span><span class="p">))</span>
</pre></div>
</div>
<details><summary><p>Show/Hide Solution</p>
</details><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">class</span> <span class="nc">DiGraphLL</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with second node as key and the weight as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">insertNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1">#print(&quot;Node {} added&quot;.format(node))</span>

    <span class="k">def</span> <span class="nf">insertEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">test1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#if both nodes exist othewise don&#39;t do anything</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">exStr</span> <span class="o">=</span> <span class="s2">&quot;Edge </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="s2"> already existing.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">exStr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#print(&quot;Inserted {}--&gt;{} ({})&quot;.format(node1,node2,weight))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">][</span><span class="n">node2</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>

    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># need to loop through all the nodes!!!</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deleteEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>

                <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> -- </span><span class="si">{}</span><span class="s2"> --&gt; </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">edge</span><span class="p">]),</span>
                                                  <span class="nb">str</span><span class="p">(</span><span class="n">edge</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns a list of nodes connected to node&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                    <span class="c1">#all outgoing edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#all incoming edges</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">node</span><span class="p">:</span>
                            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">adjacentEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">incoming</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If incoming == False</span>
<span class="sd">        we look at the edges of the node</span>
<span class="sd">        else we need to loop through all the nodes.</span>
<span class="sd">        An edge is present if there is a</span>
<span class="sd">        corresponding entry in the dictionary.</span>
<span class="sd">        If no such nodes exist returns None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">incoming</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">otherNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">otherNode</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">otherNode</span><span class="p">:</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">other</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="n">node</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns all the edges in a list of triplets&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">edge</span><span class="p">]</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">,</span><span class="n">edge</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">edgeIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if edge node1 --&gt; node2 is present&quot;&quot;&quot;</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n1</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nodes</span><span class="p">[</span><span class="n">node1</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n2</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

<span class="k">class</span> <span class="nc">DiGraphLLAnalyzer</span><span class="p">(</span><span class="n">DiGraphLL</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Every node is an element in the dictionary.</span>
<span class="sd">        The key is the node id and the value is a dictionary</span>
<span class="sd">        with key second node and value the weight</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">getTopConnected_incoming</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">topN</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="c1">#accumulator to count connections</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">node</span><span class="p">]:</span>
                <span class="n">elInd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                <span class="n">conn</span><span class="p">[</span><span class="n">elInd</span><span class="p">]</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">M</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">conn</span><span class="p">))</span> <span class="k">if</span> <span class="n">conn</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">M</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ind</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getTopConnected_outgoing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the node(s)&quot;&quot;&quot;</span>
        <span class="n">topN</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">node</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">conn</span><span class="p">:</span>
                <span class="n">topN</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">conn</span> <span class="o">=</span> <span class="n">n</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="n">conn</span><span class="p">:</span>
                    <span class="n">topN</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">topN</span>

    <span class="k">def</span> <span class="nf">hasPathAux</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span> <span class="ow">or</span> <span class="n">node2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curN</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="c1">#do not travel on already visited nodes</span>
                <span class="k">if</span> <span class="n">curN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curN</span><span class="p">)</span>
                    <span class="c1">#get all outgoing nodes of Q</span>
                    <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">()[</span><span class="n">curN</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">edge</span> <span class="o">==</span> <span class="n">node2</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">True</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">hasPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">):</span>
        <span class="c1">#checks both paths and returns True or false</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasPathAux</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">res</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasPathAux</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node1</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">DiGraphLLAnalyzer</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">six</span> <span class="o">=</span> <span class="s2">&quot;Node_6&quot;</span>
        <span class="n">n_plus</span> <span class="o">=</span> <span class="s2">&quot;Node_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n_plus</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">six</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_6&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Adding edge Node_5 -- 0.5 --&gt; Node_5&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_5&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_4 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span><span class="s2">&quot;Node_4&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Removing Node_6&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="s2">&quot;Node_6&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (outgoing):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_outgoing</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top connected (incoming):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">getTopConnected_incoming</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Adding Node_alone and Node_alone2&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertNode</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Adding Node_alone --&gt; Node_alone2&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">insertEdge</span><span class="p">(</span><span class="s2">&quot;Node_alone&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are Node_1 and Node_alone2 connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone2&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Are Node_alone2 and Node_alone connected?&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">hasPath</span><span class="p">(</span><span class="s2">&quot;Node_alone2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node_alone&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top connected (outgoing):
[&#39;Node_1&#39;, &#39;Node_2&#39;, &#39;Node_3&#39;, &#39;Node_4&#39;, &#39;Node_5&#39;]
Top connected (incoming):
[&#39;Node_6&#39;]

Adding edge Node_5 -- 0.5 --&gt; Node_5
Top connected (outgoing):
[&#39;Node_5&#39;]

Are Node_1 and Node_4 connected?
True

Removing Node_6
Top connected (outgoing):
[&#39;Node_5&#39;]
Top connected (incoming):
[&#39;Node_5&#39;]

Adding Node_alone and Node_alone2
Adding Node_alone --&gt; Node_alone2

Are Node_1 and Node_alone2 connected?
False
Are Node_alone2 and Node_alone connected?
True
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="data_structures/DiGraphLLAnalyzer.py">DiGraphLLAnalyzer.py</a></p>
</details></section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="M2_practical7.html" class="btn btn-neutral float-left" title="Module 2, Practical 7" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Riccardo Scandino.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>