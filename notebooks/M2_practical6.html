

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 2, Practical 6 &mdash; sciprog-ds-M2-24_25  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Module 2, Practical 5" href="M2_practical5.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            sciprog-ds-M2-24_25
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">     Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical1.html">     Practical 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical2.html">     Practical 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical3.html">     Practical 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical4.html">     Practical 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="M2_practical5.html">     Practical 5</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Practical 6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Data-structures">Data structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Abstract-Data-Types-(ADTs)">Abstract Data Types (ADTs)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ADT:-Sequence">ADT: Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ADT:-Set">ADT: Set</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Iterators-in-Python">Iterators in Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Exercise-(set-implementation)">Exercise (set implementation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ADT:-dictionary">ADT: dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Linked-lists">Linked lists</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Example:-bidirectional-linked-list">Example: bidirectional linked list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Exercise-(complete-bidirectional-list)">Exercise (complete bidirectional list)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Exercise-(circular-list)">Exercise (circular list)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Stacks">Stacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Queues">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Collections">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Exercise</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sciprog-ds-M2-24_25</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Module 2, Practical 6</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/M2_practical6.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Module-2,-Practical-6">
<h1>Module 2, Practical 6<a class="headerlink" href="#Module-2,-Practical-6" title="Link to this heading"></a></h1>
<p>In this practical we will work with data structures.</p>
<section id="Data-structures">
<h2>Data structures<a class="headerlink" href="#Data-structures" title="Link to this heading"></a></h2>
<p>How do we arrange data within our programs depends on the operations we want to perform on them. To be as effective as possible, we should pick the data structure that gives:</p>
<ol class="arabic simple">
<li><p>the <em>most efficient access</em> to the data according to the operations we intend to perform on the data, and</p></li>
<li><p>use the <em>least amount of memory</em> in the process.</p></li>
</ol>
<p>Programming languages provide many different data structures (e.g. lists, dictionaries, etc) which have different features and performance (both in terms of speed and memory consumption).</p>
<p>To decide which data type suits our needs better, we need to know the different features of the various datatypes that are available (or that we can implement).</p>
<p><strong>Example</strong>: Inserting data into a Python list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">listInsert</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
    <span class="n">myList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myList</span><span class="p">)):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">listAppend</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
    <span class="n">myList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myList</span><span class="p">)):</span>
        <span class="n">myList</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>


<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listInsert</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List insert with </span><span class="si">{}</span><span class="s2"> elements took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">20000</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listInsert</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List insert with </span><span class="si">{}</span><span class="s2"> elements took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------------&quot;</span><span class="p">)</span>
<span class="n">n</span><span class="o">=</span><span class="mi">10</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listAppend</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List append with </span><span class="si">{}</span><span class="s2"> elements took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">20000</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">listAppend</span><span class="p">(</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List append with </span><span class="si">{}</span><span class="s2"> elements took </span><span class="si">{:.03f}</span><span class="s2">s&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
List insert with 10 elements took 0.000s
List insert with 20000 elements took 0.109s
------------------
List append with 10 elements took 0.000s
List append with 20000 elements took 0.006s
</pre></div></div>
</div>
<p>The behaviour above is due to the fact that adding an element at the beginning of the list with <code class="docutils literal notranslate"><span class="pre">list.insert(0,element)</span></code> and <code class="docutils literal notranslate"><span class="pre">list.pop(0)</span></code> end up with python having to move all the elements present in the list to make room for the new element or to adjust the list when we remove it.</p>
<p>By adding and removing from the back of the list we are actually a lot faster. Later on we will also see the <code class="docutils literal notranslate"><span class="pre">collections.deque</span></code> data structure, that allows for quick operations on lists.</p>
<p><em>How can we analyze and compare different data types?</em></p>
<section id="Abstract-Data-Types-(ADTs)">
<h3>Abstract Data Types (ADTs)<a class="headerlink" href="#Abstract-Data-Types-(ADTs)" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">ADTs are a mathematical description of a strategy to store the data and operations that can be performed on the data (in abstract terms, without focusing on implementation).</div>
<div class="line"><em>Abstract data types</em> provide the specifications of what the data types should look like/behave.</div>
</div>
<p>Some examples taken from the lectures:</p>
<section id="ADT:-Sequence">
<h4>ADT: Sequence<a class="headerlink" href="#ADT:-Sequence" title="Link to this heading"></a></h4>
<p>A sequence is a dynamic data structure (no limit on the number of elements) that contains (possibly repeated) sorted elements (sorted not by the value of the elements, but based on their position within the structure). Allowed operations are:</p>
<ul class="simple">
<li><p><em>remove</em> elements by their index (index)</p></li>
<li><p><em>directly access</em> some elements like the first or the last (<em>head</em> and <em>tail</em>) or given their index (position)</p></li>
<li><p><em>sequentially access</em> all the elements moving forward (<em>next</em>) or backwards (<em>previous</em>) in the structure.</p></li>
</ul>
<p>Full specification of the sequence ADT (from the lecture):</p>
<img alt="../_images/sequenceADT.png" src="../_images/sequenceADT.png" />
</section>
<section id="ADT:-Set">
<h4>ADT: Set<a class="headerlink" href="#ADT:-Set" title="Link to this heading"></a></h4>
<p>Sets are dynamic data structures that contain <strong>non-repeated</strong> elements in <strong>no specific order</strong>. Allowed operations are:</p>
<ul class="simple">
<li><p><em>insert</em>, <em>delete</em> and <em>contains</em> to add, remove or test the presence of an element in the set</p></li>
<li><p><em>minimum</em> and <em>maximum</em> to retrieve the minimum and maximum element (based on values)</p></li>
<li><p>it should be possible to <em>iterate</em> through the elements in the set (in no specific order) with something like <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">el</span> <span class="pre">in</span> <span class="pre">set:</span></code>.</p></li>
</ul>
<p>Finally, some operations are defined on two sets like: <em>union</em>, <em>intersection</em>, <em>difference</em>.</p>
<p>Full specification of the set ADT (from the lecture):</p>
<img alt="../_images/setADT.png" src="../_images/setADT.png" />
<div class="line-block">
<div class="line">Python already provides the <code class="docutils literal notranslate"><span class="pre">set</span></code> data structure.</div>
<div class="line">Let’s see how to define and interact with a set through some examples:</div>
</div>
<p>Start with an empty set with add some elements</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Pippo&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Paperino&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Minni&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
set()
{&#39;Minni&#39;, &#39;Paperino&#39;, &#39;Pippo&#39;}
</pre></div></div>
</div>
<p>Adding an already existing element has no effect on the set</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Pippo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;Minni&#39;, &#39;Paperino&#39;, &#39;Pippo&#39;}
</pre></div></div>
</div>
<p>Sets can also be generated starting from existing elements</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#a set from a list of values</span>
<span class="n">myList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">121</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">121</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">List: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">myList</span><span class="p">))</span>
<span class="n">S</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">myList</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>

<span class="c1">#from strings</span>
<span class="n">S1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;abracadabra&quot;</span><span class="p">)</span>
<span class="n">S2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;AbbadabE&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S2: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

List: [121, 5, 4, 1, 1, 4, 2, 121]
Set: {1, 2, 4, 5, 121}

S1: {&#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;a&#39;, &#39;r&#39;}
S2: {&#39;b&#39;, &#39;E&#39;, &#39;A&#39;, &#39;d&#39;, &#39;a&#39;}
</pre></div></div>
</div>
<p>Accessing elements in a set is done by iteration (<code class="docutils literal notranslate"><span class="pre">for</span></code>) or by verifying their presence (<code class="docutils literal notranslate"><span class="pre">in</span></code>)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accessing set S&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">element: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is 44 in S? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">44</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is 121 in S? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">121</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Accessing set S
        element: 1
        element: 2
        element: 4
        element: 5
        element: 121

Is 44 in S? False
Is 121 in S? True
</pre></div></div>
</div>
<p>Sets allow to perform mathematical set operations (Intersection, union, etc..)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection(S1,S2): </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">&amp;</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Union(S1,S2): </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">|</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In S1 but not in S2: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">-</span> <span class="n">S2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In S2 but not in S1: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S2</span> <span class="o">-</span> <span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In S1 or S2 but not in both: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span> <span class="o">^</span> <span class="n">S2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Intersection(S1,S2): {&#39;d&#39;, &#39;b&#39;, &#39;a&#39;}

Union(S1,S2): {&#39;b&#39;, &#39;E&#39;, &#39;A&#39;, &#39;c&#39;, &#39;d&#39;, &#39;a&#39;, &#39;r&#39;}

In S1 but not in S2: {&#39;c&#39;, &#39;r&#39;}

In S2 but not in S1: {&#39;A&#39;, &#39;E&#39;}

In S1 or S2 but not in both: {&#39;E&#39;, &#39;r&#39;, &#39;A&#39;, &#39;c&#39;}
</pre></div></div>
</div>
</section>
</section>
<section id="Iterators-in-Python">
<h3>Iterators in Python<a class="headerlink" href="#Iterators-in-Python" title="Link to this heading"></a></h3>
<p>When we define a new data structure that is intended to be iterated, we need to specify how to traverse this structure, and this is done through the construct called <strong>iterator</strong>.</p>
<p>In python, to create an object/class that is also an iterator you have to implement the methods <strong>iter</strong>() and <strong>next</strong>() to your object.</p>
<p>As you have learned, all classes have a function called <strong>init</strong>(), which allows you to do some initializing when the object is being created.</p>
<ul class="simple">
<li><p>The <strong>iter</strong>() method acts similar, you can do operations as choosing on which attribute to iterate. Still, keep in mind that this method MUST always return the iterator object itself.</p></li>
<li><p>The <strong>next</strong>() method also allows you to do operations, and must return the next item in the sequence.</p></li>
</ul>
<p>To prevent the iteration from going on forever, we can use the <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> statement.</p>
<p>In the <strong>next</strong>() method, we can add a terminating condition to raise an error if the iteration is done a specified number of times.</p>
<p>Example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyNumbers</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

<span class="n">myclass</span> <span class="o">=</span> <span class="n">MyNumbers</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">myclass</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[9], line 7</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     self.data = data
<span class="ansi-green-intense-fg ansi-bold">      5</span> myclass = MyNumbers([1,2,3,4,5])
<span class="ansi-green-fg">----&gt; 7</span> for x in myclass:
<span class="ansi-green-intense-fg ansi-bold">      8</span>     print(x)

<span class="ansi-red-fg">TypeError</span>: &#39;MyNumbers&#39; object is not iterable
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyNumbers</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

  <span class="c1"># define __iter__  and __next__ methods for iteration!!</span>
  <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="bp">self</span>

  <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
      <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">current</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>

<span class="n">myclass</span> <span class="o">=</span> <span class="n">MyNumbers</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">myclass</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
2
3
4
5
</pre></div></div>
</div>
</section>
<section id="Exercise-(set-implementation)">
<h3>Exercise (set implementation)<a class="headerlink" href="#Exercise-(set-implementation)" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Write a simple MySet class that implements the abstract data type <strong>set</strong>. Use a dictionary as internal data structure (hint: you can put the element as key of the dictionary and the value as “1”). For simplicity, the object should be constructed by passing to it a list of elements (e.g. S = mySet([1,2,3]).</p></li>
</ol>
<p>The ADT of the set structure is (i.e. the methods to implement):</p>
<img alt="../_images/setADT.png" src="../_images/setADT.png" />
<p>Implement the <strong>iterator</strong> interface that <strong>yields</strong> the next elements. Implement a special method <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> to test if an element is present with <strong>el in S</strong>.</p>
<p>Test the code with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">S</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">77</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S now: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 13? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">13</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 125? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">125</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All elements in S:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">element: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">S:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="n">S1</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Union: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S - S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1 - S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(S - S1) U (S1 -S): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">))))</span>
</pre></div>
</div>
<p>and compare the results with what would give python’s built-in <code class="docutils literal notranslate"><span class="pre">set</span></code> data structure.</p>
<details><summary><p>Show/Hide Implementation</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MySet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elements</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">el</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1">#let&#39;s specify the special operator for len</span>
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1">#this is the special operator for in</span>
    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">el</span> <span class="o">!=</span> <span class="kc">None</span>

    <span class="c1">#we do not redefine __add__ because that is for S1 + S2</span>
    <span class="c1">#where S1 and S2 are sets</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="c1">#don&#39;t care if already there</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">discard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="c1">#equivalent to:</span>
        <span class="c1">#if element in self.__data: del self.__data[element]</span>
        <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="c1"># the object itself will be the iterator...</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteratorPosition</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">keys</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;{&quot;</span><span class="o">+</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>

    <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;elements in either of the two sets&quot;&quot;&quot;</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="n">S</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">S</span>

    <span class="k">def</span> <span class="nf">intersection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;elements in both sets&quot;&quot;&quot;</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;elements in both sets&quot;&quot;&quot;</span>
        <span class="n">my_keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">your_keys</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">inter</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">my_keys</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">your_keys</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MySet</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;elements in self but not in other&quot;&quot;&quot;</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">MySet</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>

<span class="c1">### TESTING MySet Class ###</span>
<span class="n">S</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">77</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S now: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 13? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">13</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does S contain 125? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">125</span> <span class="ow">in</span> <span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All elements in S:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">element: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="n">S1</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Union: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S - S1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;S1 - S: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(S - S1) U (S1 -S): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S1</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">S</span><span class="p">))))</span>

<span class="c1">#### Test vs python&#39;s set</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Testing python&#39;s builtin:&quot;</span><span class="p">)</span>
<span class="n">pS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">pS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span>
<span class="c1">#pS.remove(77) # this gives an error!</span>
<span class="n">pS</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span><span class="p">))</span>
<span class="n">pS1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Union: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">|</span> <span class="n">pS1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">&amp;</span> <span class="n">pS1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS - pS1: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">-</span> <span class="n">pS1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pS1 - pS: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS1</span> <span class="o">-</span> <span class="n">pS</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(pS - pS1) U (pS1 -pS): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pS</span> <span class="o">-</span> <span class="n">pS1</span> <span class="o">|</span> <span class="n">pS1</span> <span class="o">-</span> <span class="n">pS</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Initial S: {33, 1, 4, 5, 7, 3}
S now: {33, 1, 4, 7, 3, 125}
Does S contain 13? False
Does S contain 125? True
All elements in S:
        element: 33
        element: 1
        element: 4
        element: 7
        element: 3
        element: 125

S: {33, 1, 4, 7, 3, 125}
S1: {33, 0, 3, 4, 44}

Union: {33, 0, 3, 4, 44, 1, 7, 125}
Intersection: {33, 4, 3}
S - S1: {1, 7, 125}
S1 - S: {0, 44}
(S - S1) U (S1 -S): {0, 44, 1, 7, 125}

Testing python&#39;s builtin:
pS: {33, 1, 3, 4, 7, 125}
pS1: {0, 33, 3, 4, 44}
Union: {0, 33, 1, 3, 4, 7, 44, 125}
Intersection: {33, 3, 4}
pS - pS1: {1, 125, 7}
pS1 - pS: {0, 44}
(pS - pS1) U (pS1 -pS): {0, 1, 7, 44, 125}
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/MySet.py">MySet.py</a></p>
</details></section>
<section id="ADT:-dictionary">
<h3>ADT: dictionary<a class="headerlink" href="#ADT:-dictionary" title="Link to this heading"></a></h3>
<p>Dictionaries map keys to values and allow insertion, removal and lookup:</p>
<img alt="../_images/dictionaryADT.png" src="../_images/dictionaryADT.png" />
</section>
</section>
<section id="Linked-lists">
<h2>Linked lists<a class="headerlink" href="#Linked-lists" title="Link to this heading"></a></h2>
<p>Linked lists are collections of objects and pointers (either 1 or 2) that point to the <em>next</em> element in the list or to <em>both the next and previous</em> element in the list.</p>
<p>Linked lists can be <strong>linear</strong> or <strong>circular</strong> when the last element is connected to the first and only a fixed amount of elements is allowed and then newly-added elements replace previous ones.</p>
<p>They can be <strong>bidirectional</strong> if from one element one can move to the <strong>previous</strong> and to the <strong>next</strong> or <strong>monodirectional</strong> when it is possible only to go to the <strong>next</strong> element.</p>
<p>Here are some of the possible types of list (from the lecture):</p>
<img alt="../_images/linked_lists.png" src="../_images/linked_lists.png" />
<p>The operations that can be performed on lists are:</p>
<img alt="../_images/list_operations.png" src="../_images/list_operations.png" />
<section id="Example:-bidirectional-linked-list">
<h3>Example: bidirectional linked list<a class="headerlink" href="#Example:-bidirectional-linked-list" title="Link to this heading"></a></h3>
<p>Let’s implement a bidirectional linked list of objects of type “Node” (that contain attributes: <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">prevEl</span></code> and <code class="docutils literal notranslate"><span class="pre">nextEl</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>
    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="c1"># next element</span>
    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>

    <span class="c1"># previous element</span>
    <span class="k">def</span> <span class="nf">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1"># for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>


<span class="k">class</span> <span class="nc">BiLinkList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># to reduce complexity of min and max calculation, we keep track</span>
        <span class="c1"># of this information during insertions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># this assumes that nodes can be sorted</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># this assumes that nodes can be sorted</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Node</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type Node&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1"># this assumes that nodes can be sorted</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="c1"># to avoid index problems, if i is out of bounds</span>
        <span class="c1"># we insert at beginning or end</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="c1">#I know that it is after tail!</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#add node before cur_el</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="c1">#add before current head</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#add after tail</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#add in the middle of the list</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#This assumes that nodes can be sorted</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getAtIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">cur_el</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dta</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dta</span> <span class="o">+=</span> <span class="s2">&quot; &lt;-&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dta</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">slice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/BidirectionalList.py">BidirectionalList.py</a></p>
<p>Let’s test the BiLinkList implementation!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MLL</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of elements: </span><span class="si">{}</span><span class="s2"> min: </span><span class="si">{}</span><span class="s2">  max: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">),</span>
                                                        <span class="n">MLL</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                                                        <span class="n">MLL</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
<span class="n">N</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[4] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moving backwards </span><span class="si">{}</span><span class="s2"> steps from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">I find node: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()))</span>
    <span class="n">N</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 &lt;-&gt; 11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41
        1 prev:None next:11
        11 prev:1 next:21
        21 prev:11 next:31
        31 prev:21 next:41
        41 prev:31 next:None
1000 &lt;-&gt; 1 &lt;-&gt; 11 &lt;-&gt; 2 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
        1000 prev:None next:1
        1 prev:1000 next:11
        11 prev:1 next:2
        2 prev:11 next:21
        21 prev:2 next:31
        31 prev:21 next:41
        41 prev:31 next:-10
        -10 prev:41 next:27
        27 prev:-10 next:None
Number of elements: 9 min: -10  max: 1000
MLL[4] = 21
Moving backwards 1 steps from 21
        I find node: 2
Moving backwards 2 steps from 2
        I find node: 11
Moving backwards 3 steps from 11
        I find node: 1
</pre></div></div>
</div>
</section>
<section id="Exercise-(complete-bidirectional-list)">
<h3>Exercise (complete bidirectional list)<a class="headerlink" href="#Exercise-(complete-bidirectional-list)" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="2">
<li><p>Complete the bidirectional linked list example seen above by implementing the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">remove(x)</span></code> method that removes the element x from the list if present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice(x,y)</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are integers. The slice method should return another bidirectionaly linked list with elements from <code class="docutils literal notranslate"><span class="pre">x</span></code> (included) to <code class="docutils literal notranslate"><span class="pre">y</span></code> (excluded).</p></li>
</ul>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>
    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="c1"># next element</span>
    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>

    <span class="c1"># previous element</span>
    <span class="k">def</span> <span class="nf">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prevEl</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1"># for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>


<span class="k">class</span> <span class="nc">BiLinkList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># to reduce complexity of min and max calculation, we keep track</span>
        <span class="c1"># of this information during insertions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># this assumes that nodes can be sorted</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># this assumes that nodes can be sorted</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Node</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type Node&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1"># this assumes that nodes can be sorted</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="c1"># to avoid index problems, if i is out of bounds</span>
        <span class="c1"># we insert at beginning or end</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="c1">#I know that it is after tail!</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#add node before cur_el</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="c1">#add before current head</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1">#add after tail</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#add in the middle of the list</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1">#This assumes that nodes can be sorted</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">&gt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__minEl</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">&lt;</span> <span class="n">node</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__maxEl</span> <span class="o">=</span> <span class="n">node</span>

    <span class="k">def</span> <span class="nf">getAtIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">cur_el</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dta</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dta</span> <span class="o">+=</span> <span class="s2">&quot; &lt;-&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dta</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">###################################################</span>
    <span class="c1">################### NEW METHODS ###################</span>
    <span class="c1">#  WARINING: these implementations do not update</span>
    <span class="c1">#          self.__minEl and self.__maxEl</span>
    <span class="c1">###################################################</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">()</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">n</span>

                <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">p</span>

                <span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">n</span><span class="o">.</span><span class="n">setPrev</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">p</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>


    <span class="k">def</span> <span class="nf">slice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="n">M</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">:</span>
                <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">nList</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>

            <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">M</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">cur_el</span><span class="o">.</span><span class="n">getData</span><span class="p">())</span>
                    <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
                    <span class="n">nList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">nList</span>

    <span class="c1">###################################################</span>
    <span class="c1">############### END NEW METHODS ###################</span>
    <span class="c1">###################################################</span>



<span class="c1"># TESTING</span>
<span class="n">MLL</span> <span class="o">=</span> <span class="n">BiLinkList</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of elements: </span><span class="si">{}</span><span class="s2"> min: </span><span class="si">{}</span><span class="s2">  max: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">),</span>
                                                        <span class="n">MLL</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                                                        <span class="n">MLL</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[3] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MLL[0] = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>

<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">MLL</span><span class="o">.</span><span class="n">iterator</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{}</span><span class="s2"> prev:</span><span class="si">{}</span><span class="s2"> next:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">,</span><span class="n">el</span><span class="o">.</span><span class="n">getPrev</span><span class="p">(),</span>
                                        <span class="n">el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()))</span>

<span class="c1">#slice:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Slice[2,4]:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="c1">#slice:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Slice[3,15]:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>

<span class="c1">#Removing all elements now.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Remove all&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MLL</span><span class="p">)):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">MLL</span><span class="o">.</span><span class="n">getAtIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">MLL</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> removed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">MLL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current list content:&quot;</span><span class="p">,</span> <span class="n">MLL</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 &lt;-&gt; 11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41
        1 prev:None next:11
        11 prev:1 next:21
        21 prev:11 next:31
        31 prev:21 next:41
        41 prev:31 next:None
1000 &lt;-&gt; 1 &lt;-&gt; 11 &lt;-&gt; 2 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
        1000 prev:None next:1
        1 prev:1000 next:11
        11 prev:1 next:2
        2 prev:11 next:21
        21 prev:2 next:31
        31 prev:21 next:41
        41 prev:31 next:-10
        -10 prev:41 next:27
        27 prev:-10 next:None
Number of elements: 9 min: -10  max: 1000
MLL[3] = 2
2 removed!
1000 &lt;-&gt; 1 &lt;-&gt; 11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
        1000 prev:None next:1
        1 prev:1000 next:11
        11 prev:1 next:21
        21 prev:11 next:31
        31 prev:21 next:41
        41 prev:31 next:-10
        -10 prev:41 next:27
        27 prev:-10 next:None
MLL[0] = 1000
1000 removed!
1 &lt;-&gt; 11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
        1 prev:None next:11
        11 prev:1 next:21
        21 prev:11 next:31
        31 prev:21 next:41
        41 prev:31 next:-10
        -10 prev:41 next:27
        27 prev:-10 next:None
Slice[2,4]:
21 &lt;-&gt; 31
Slice[3,15]:
31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
Remove all
1 removed!
11 &lt;-&gt; 21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
11 removed!
21 &lt;-&gt; 31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
21 removed!
31 &lt;-&gt; 41 &lt;-&gt; -10 &lt;-&gt; 27
31 removed!
41 &lt;-&gt; -10 &lt;-&gt; 27
41 removed!
-10 &lt;-&gt; 27
-10 removed!
27
27 removed!

Current list content:
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/BidirectionalList2.py">BidirectionalList2.py</a></p>
<p><strong>Warning:</strong> the implementation provided above is not completely correct… what happens to min/max when a node si removed or the list is sliced?</p>
</details></section>
<section id="Exercise-(circular-list)">
<h3>Exercise (circular list)<a class="headerlink" href="#Exercise-(circular-list)" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="3">
<li><p>Implement a circular single-directional linked list of objects SingleNode (that have a data and a link to the next element) with the following methods:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">append(element)</span></code> : adds at the end of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extend(list_of_elements)</span></code> : adds all the elements in the list</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get(index)</span></code> : reads the node at position index;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeAt(index)</span></code> : removes the element at position index if it exists;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeEl(el)</span></code> : removes the element el, if present.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">head()</span></code> : gets the first element of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tail()</span></code> : gets the last element of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__len__()</span></code> : returns the length of the list;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__str__()</span></code> : returns a string representation of the list:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1 --&gt; 2 --&gt; 3 --&gt; ... N --|
^-------------------------|
</pre></div>
</div>
<p>Remember that a circular list should always have the last element (tail) pointing to the first element (head):</p>
<img alt="../_images/circular_list.png" src="../_images/circular_list.png" />
<p>Test your class with the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CL</span> <span class="o">=</span> <span class="n">CircularList</span><span class="p">()</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="n">n1</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="n">n4</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">n5</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">6</span><span class="p">])</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">n3</span><span class="p">,</span><span class="n">n4</span><span class="p">,</span><span class="n">n5</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="s2">&quot;luca&quot;</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CL has length: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">CL</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Head:</span><span class="si">{}</span><span class="se">\n</span><span class="s2">Tail:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span><span class="n">CL</span><span class="o">.</span><span class="n">tail</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">),</span><span class="o">-</span><span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="mi">20</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="mi">0</span><span class="p">))</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="c1">#n is not present!</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
</pre></div>
</div>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SingleNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>
    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">newdata</span>

    <span class="k">def</span> <span class="nf">setNext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span> <span class="o">=</span> <span class="n">node</span>
    <span class="k">def</span> <span class="nf">getNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nextEl</span>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="c1">#for sorting</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">__data</span>

<span class="k">class</span> <span class="nc">CircularList</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">!=</span> <span class="n">SingleNode</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;node is not of type SingleNode&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">node</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodesList</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">nodesList</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>

    <span class="k">def</span> <span class="nf">tail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#should someone input a very small number!</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+</span> <span class="n">index</span>

        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">index</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">cur_el</span>


    <span class="k">def</span> <span class="nf">removeAt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#should someone input a very small number!</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">+</span> <span class="n">index</span>


        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">cur_el</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
        <span class="n">next_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
        <span class="n">prev</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">next_el</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">prev</span>
        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">prev</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">removeEl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>

        <span class="k">while</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span> <span class="o">!=</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">cur_el</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="c1">#cur_el is element now</span>
            <span class="n">next_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">prev</span><span class="o">.</span><span class="n">setNext</span><span class="p">(</span><span class="n">next_el</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span> <span class="o">=</span> <span class="n">prev</span>
            <span class="k">if</span> <span class="n">cur_el</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__head</span> <span class="o">=</span> <span class="n">prev</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__len</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outStr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">cur_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__head</span>
        <span class="n">outStr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">cur_el</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tail</span><span class="p">:</span>
            <span class="n">cur_el</span> <span class="o">=</span> <span class="n">cur_el</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
            <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;--&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_el</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">outStr</span><span class="p">)</span>
        <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;--|</span><span class="se">\n</span><span class="s2">^&quot;</span>

        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">outStr</span> <span class="o">=</span> <span class="n">outStr</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">outStr</span> <span class="o">+=</span> <span class="s2">&quot;|&quot;</span>

        <span class="k">return</span> <span class="n">outStr</span>

<span class="c1"># Testing</span>
<span class="n">CL</span> <span class="o">=</span> <span class="n">CircularList</span><span class="p">()</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="n">n1</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="n">n4</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">n5</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">([</span><span class="mi">6</span><span class="p">])</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">n3</span><span class="p">,</span><span class="n">n4</span><span class="p">,</span><span class="n">n5</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">SingleNode</span><span class="p">(</span><span class="s2">&quot;luca&quot;</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CL has length: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">CL</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Head:</span><span class="si">{}</span><span class="se">\n</span><span class="s2">Tail:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span><span class="n">CL</span><span class="o">.</span><span class="n">tail</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">),</span><span class="o">-</span><span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="mi">20</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is at position: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CL</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="mi">0</span><span class="p">))</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeAt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
<span class="c1">#n is not present!</span>
<span class="n">CL</span><span class="o">.</span><span class="n">removeEl</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CL</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1]--&gt;2--&gt;[3]--&gt;[4]--&gt;5--&gt;[6]--&gt;luca--|
^-------------------------------------|
CL has length: 7
Head:[1]
Tail:luca
[4] is at position: 3
5 is at position: -10
luca is at position: 20
[1] is at position: 0
[1]--&gt;2--&gt;[4]--&gt;5--&gt;[6]--|
^------------------------|
[1]--&gt;2--&gt;[4]--&gt;5--|
^------------------|
[1]--&gt;2--&gt;[4]--&gt;5--|
^------------------|
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/CircularList.py">CircularList.py</a></p>
</details></section>
</section>
<section id="Stacks">
<h2>Stacks<a class="headerlink" href="#Stacks" title="Link to this heading"></a></h2>
<p><strong>Stacks</strong> are data structures that provide access to a specific element, that is the last element inserted into the stack.</p>
<p>The specific operations available for stacks are described in the abstract data type (from the lecture):</p>
<img alt="../_images/stackADT.png" src="../_images/stackADT.png" />
<p><strong>Example:</strong> Let’s implement a stack class MyStack by using Python’s list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyStack</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;adds an element on top of the stack&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removes one element from the stack and returns it&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

<span class="c1">#Testing</span>
<span class="n">S</span> <span class="o">=</span> <span class="n">MyStack</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is it empty? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial length: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)))</span>
<span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;[1,2,3]&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [1,2,3]&quot;</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;[4,5,6]&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [4,5,6]&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is it empty? </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">()))</span>
<span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added [1,4,5]&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">peek</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Let&#39;s start removing elements...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">123456</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Added 123456&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On top of the stack: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Is it empty? True
Initial length: 0
Added [1,2,3]
Added [4,5,6]
Is it empty? False
Added [1,4,5]
On top of the stack: [1, 4, 5]
Let&#39;s start removing elements...
On top of the stack: [1, 4, 5]
On top of the stack: [4,5,6]
On top of the stack: [1,2,3]
On top of the stack: None
Added 123456
On top of the stack: 123456
On top of the stack: None
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/MyStack.py">MyStack.py</a></p>
<section id="Exercise">
<h3>Exercise<a class="headerlink" href="#Exercise" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="4">
<li><p>Stacks are great to evaluate postfix expressions. Some examples of postfix expressions are:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>10 5 +
</pre></div>
</div>
<p>that encodes for <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">=</span> <span class="pre">15</span></code></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>10 5  + 7 *
</pre></div>
</div>
<p>that encodes for <code class="docutils literal notranslate"><span class="pre">(10</span> <span class="pre">+</span> <span class="pre">5)</span> <span class="pre">*</span> <span class="pre">7</span> <span class="pre">=</span> <span class="pre">105</span></code></p>
<p>Given a postfix expression it can be evaluated in the following way:</p>
<ol class="arabic simple">
<li><p>start from the beginning of the string (better, convert it to a list by splitting the string by “ “), remove elements from the list and insert elements in the stack unless they are operators. If they are operators, pop two elements and apply the operation, storing it in a variable;</p></li>
<li><p>If the list is empty, the result is stored in the variable, otherwise go back to point 1.</p></li>
</ol>
<p>Assuming only integer numbers and the 4 standard binary operators +,-,/,*: write some python code that uses the stack class seen above <code class="docutils literal notranslate"><span class="pre">MyStack</span></code> and evaluates the following postfix expressions:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>operations = [&quot;10 5 + 7 *&quot;,
              &quot;1 2 3 4 5 6 7 8 + + + + + + +&quot;,
              &quot;1 2 3 4 5 + - * /&quot;,
              &quot;5 4 + 8 /&quot;,
              &quot;3 10 2 - 5 * +&quot;]
</pre></div>
</div>
<details><summary><p>Show/Hide Solution</p>
</summary><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyStack</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;adds an element on top of the stack&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;removes one element from the stack and returns it&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">evaluatePostfix</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">MyStack</span><span class="p">()</span>
    <span class="n">els</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">infix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">els</span><span class="p">)):</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">els</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">e</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;+-*/&quot;</span><span class="p">:</span>
            <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">o2</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">o1</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">infix</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">o1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">e</span> <span class="o">+</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">infix</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">+</span> <span class="n">o2</span>

            <span class="k">elif</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">-</span> <span class="n">o2</span>

            <span class="k">elif</span> <span class="n">e</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">/</span> <span class="n">o2</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">o1</span> <span class="o">*</span> <span class="n">o2</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">tmp</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">els</span><span class="p">):</span>
                <span class="n">S</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>


<span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;10 5 + 7 *&quot;</span><span class="p">,</span>
              <span class="s2">&quot;1 2 3 4 5 6 7 8 + + + + + + +&quot;</span><span class="p">,</span>
              <span class="s2">&quot;1 2 3 4 5 + - * /&quot;</span><span class="p">,</span>
              <span class="s2">&quot;5 4 + 8 /&quot;</span><span class="p">,</span>
              <span class="s2">&quot;3 10 2 - 5 * +&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Operation: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">op</span><span class="p">))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">evaluatePostfix</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Operation: 10 5 + 7 *
(10 + 5)
(15 * 7)
Result: 105
Operation: 1 2 3 4 5 6 7 8 + + + + + + +
(7 + 8)
(6 + 15)
(5 + 21)
(4 + 26)
(3 + 30)
(2 + 33)
(1 + 35)
Result: 36
Operation: 1 2 3 4 5 + - * /
(4 + 5)
(3 - 9)
(2 * -6)
(1 / -12)
Result: -0.08333333333333333
Operation: 5 4 + 8 /
(5 + 4)
(9 / 8)
Result: 1.125
Operation: 3 10 2 - 5 * +
(10 - 2)
(8 * 5)
(3 + 40)
Result: 43
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/PostfixExpressions.py">PostfixExpressions.py</a></p>
</details></section>
</section>
<section id="Queues">
<h2>Queues<a class="headerlink" href="#Queues" title="Link to this heading"></a></h2>
<p>Queues, also called <strong>FIFO queues: first in first out queues</strong>, are linear dynamic data structures that add at the back of the queue and remove elements from the beginning.</p>
<p>The specific operations available for queues are reported below (from the lecture):</p>
<img alt="../_images/queueADT.png" src="../_images/queueADT.png" />
<p><strong>Example:</strong> Let’s implement a (slow!) queue class MyQueue by using Python’s list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyQueue</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">el</span>

    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>


<span class="c1">#Testing</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">Q</span> <span class="o">=</span> <span class="n">MyQueue</span><span class="p">()</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of Q: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TOP is now: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">top</span><span class="p">()))</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
    <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removing el </span><span class="si">{}</span><span class="s2"> from queue&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

<span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="c1">#comment the next 3 lines and see what happens</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
    <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Size of Q: 3
TOP is now: 1

Removing el 1 from queue
Removing el 2 from queue
Removing el 3 from queue
Removing el 4 from queue
Removing el 5 from queue

Queue has size: 400000

Queue has size: 0

Elapsed time: 21.83s
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/MyQueue.py">MyQueue.py</a></p>
<p>Note that in the example above, enqueue adds at the beginning and dequeue removes from the end, this requires n shifts at each insertion, which is quite time costly!!!</p>
<p><strong>Example:</strong> Let’s implement a queue class <code class="docutils literal notranslate"><span class="pre">MyFasterQueue</span></code> by using python’s list but with a quicker <strong>len</strong> operator (i.e. a counter that avoids looping all the time) and with a quicker <strong>enqueue</strong> operator.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyFasterQueue</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__length</span>

    <span class="c1">## Add at the end not at the beginning</span>
    <span class="k">def</span> <span class="nf">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__length</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">el</span>

    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1">#Testing</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">Q</span> <span class="o">=</span> <span class="n">MyFasterQueue</span><span class="p">()</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of Q: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TOP is now: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">top</span><span class="p">()))</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
    <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removing el </span><span class="si">{}</span><span class="s2"> from queue&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>

<span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="c1">#comment the next 3 lines and see what happens</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
    <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Queue has size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Size of Q: 3
TOP is now: 5

Removing el 1 from queue
Removing el 2 from queue
Removing el 3 from queue
Removing el 4 from queue
Removing el 5 from queue

Queue has size: 400000

Queue has size: 0

Elapsed time: 15.47s
</pre></div></div>
</div>
<p>Download the complete source file: <a class="reference external" href="exercises/data_structures/MyFasterQueue.py">MyFasterQueue.py</a></p>
<p>The problem with the previous code is that this time we will need to remove elements from the beginning of a list and this requires <span class="math notranslate nohighlight">\(n\)</span> shifts with a cost <span class="math notranslate nohighlight">\(O(n)\)</span>, with <span class="math notranslate nohighlight">\(n\)</span> number of elements in the list. Try commenting out the following lines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
    <span class="n">el</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span>
</pre></div>
</div>
<p>This would make the code above a lot faster (less than a second).</p>
<p>The solution is to use Python’s <code class="docutils literal notranslate"><span class="pre">collections.dequeue</span></code>.</p>
</section>
<section id="Collections">
<h2>Collections<a class="headerlink" href="#Collections" title="Link to this heading"></a></h2>
<p>Python provides several data structures in the <code class="docutils literal notranslate"><span class="pre">collections</span></code> module, like for example, <strong>dequeues</strong> etc. You can find more information at <a class="reference external" href="https://docs.python.org/3.5/library/collections.html?highlight=collections#module-collections">https://docs.python.org/3.9/library/collections.html?highlight=collections#module-collections</a>.</p>
<section id="id1">
<h3>Exercise<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ol class="arabic simple" start="5">
<li><p>Implement a much faster queue by using the <code class="docutils literal notranslate"><span class="pre">collections.dequeue</span></code> collection.</p></li>
</ol>
<details><summary><p>Show/Hide Solution</p>
</details><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
<span class="n">start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400000</span><span class="p">):</span>
    <span class="c1">#add to the right</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q has </span><span class="si">{}</span><span class="s2"> elements&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c1">#remove from the left</span>
    <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q has </span><span class="si">{}</span><span class="s2"> elements&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)))</span>
<span class="n">end_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Elapsed time: </span><span class="si">{:.2f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">end_t</span> <span class="o">-</span> <span class="n">start_t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Q has 400000 elements
Q has 0 elements

Elapsed time: 0.10s
</pre></div></div>
</div>
</details></section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="M2_practical5.html" class="btn btn-neutral float-left" title="Module 2, Practical 5" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Riccardo Scandino.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>